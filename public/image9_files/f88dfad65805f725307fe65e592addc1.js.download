	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var val = window.globalDataLayer.Product.webReleaseDate || 'null';
    //console.log('ENS EDL: globalDataLayer.Product.webReleaseDate is: '+val);
    return val;
  }
  catch(e) {
    //console.log('ENS EDL Error: '+e.message);
    return '';
  }
},transform: function(val) {
	return val;
},load: 'instance',trigger: Bootstrapper.data.whenValueExistsTrigger,dataDefName: 'support_webReleaseDate_temp',collection: 'support',source: 'Manage',priv: 'false'}, {id: '71529'} );},71529);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
// Sitewide tracking items //
// ----------------------- //

function do_st_v37(id) {
  try {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template + ' | ' + id;
    ess.tl(true, 'o', ess.eVar37);
    Bootstrapper.CustomUtils.clearSC_light(['eVar37']);
  } catch (e) {
    _A.log(e.message);
  }
}

Bootstrapper.customStorage = Bootstrapper.customStorage || {};

// Bind once
if (!Bootstrapper.customStorage.allPages_bindClickEvents) {
  // Use one binding to body for consolidation - Using mouseup as click doesn't propagate up as expected in some cases
  $(document.body).on('mouseup','a,button',function(event) {
    try {
        // Items with ID attributes
        if (this.id) {
          switch (this.id) {
            // Global Events
            case 'chatbotToronto': // < Chatbot
            case 'botImageContainer': // < Chatbot
            case 'botImage': // < Chatbot
            case 'botText': // < Chatbot
              do_st_v37('chatbotToronto');
              break;
            // SecNav Items //
            // ------------ //
            case 'sec-nav-account-details':
            case 'sec-nav-BS-CreateNewCase':
            case 'sec-nav-BS-FindExistingCase':
            case 'sec-nav-BS-ManageContractsandWarranties':
            case 'sec-nav-BS-RegisterIndividualAccount':
            case 'sec-nav-BS-RegistrationHelp':
            case 'sec-nav-business-support':
            case 'sec-nav-ContactSupport':
            case 'sec-nav-contact-support':
            case 'sec-nav-create-case':
            case 'sec-nav-dashboard':
            case 'sec-nav-dashboard1':
            case 'sec-nav-diag':
            case 'sec-nav-diag-computer':
            case 'sec-nav-diag-printer':
            case 'sec-nav-diag-psdr':
            case 'sec-nav-diag-win10':
            case 'sec-nav-Forums':
            case 'sec-nav-forums':
            case 'sec-nav-manage-contracts-and-warranties':
            case 'sec-nav-my-hp-account':
            case 'sec-nav-product-all':
            case 'sec-nav-product-computer':
            case 'sec-nav-product-printer':
            case 'sec-nav-products':
            case 'sec-nav-Products':
            case 'sec-nav-register':
            case 'sec-nav-register-help':
            case 'sec-nav-security-bulletin':
            case 'sec-nav-Software':
            case 'sec-nav-software-and-drivers':
            case 'sec-nav-SupportHome':
            case 'sec-nav-support-home':
            case 'sec-nav-view-update-case':
            // END: SecNav Items
            case 'Security_Bulletin_Archive': 
            case 'Download_drivers': 
            case 'Check_warranty_status': 
            case 'Contact_us': 
            case 'btnVAChatNow':
            case 'btnVaChatNow':
            // Tooltips //
            // -------- //
            // Falcon
            case 'tooltip_labelinfo_printer':
            case 'tooltip_video_printer':
            case 'tooltip_samsung':
            case 'tooltip_keyboard_laptop':
            case 'tooltip_labelinfo_laptop':
            case 'tooltip_video_laptop':
            case 'tooltip_keyboard_desktop':
            case 'tooltip_labelinfo_desktop':
            case 'tooltip_video_desktop':
            case 'tooltip_labelinfo_others':
            case 'tooltip_video_others':
            case 'contact_tooltip_keyboard_desktop':
            case 'contact_tooltip_labelinfo':
            // Old format
            case '_tooltip_labelinfo_printer':
            case '_tooltip_video_printer':
            case '_tooltip_samsung':
            case '_tooltip_keyboard_laptop':
            case '_tooltip_labelinfo_laptop':
            case '_tooltip_video_laptop':
            case '_tooltip_keyboard_desktop':
            case '_tooltip_labelinfo_desktop':
            case '_tooltip_video_desktop':
            case '_tooltip_labelinfo_others':
            case '_tooltip_video_others':
            case '_contact_tooltip_keyboard_desktop':
            case '_contact_tooltip_labelinfo':
            // END: Tooltips
            case 'Top_0_Solution_Button': 
            case 'Top_0_Solution_Link0': 
            case 'Top_0_Solution_Link1': 
            case 'Top_1_Solution_Button': 
            case 'Top_1_Solution_Link0': 
            case 'Top_1_Solution_Link1': 
            case 'Top_2_Solution_Button': 
            case 'Top_2_Solution_Link0': 
            case 'Top_2_Solution_Link1': 
            case 'Top_3_Solution_Button': 
            case 'Top_3_Solution_Link0': 
            case 'Top_3_Solution_Link1':
            // PFinder //
            // ------- //
            // Old format
            case 'FindMyProduct': 
            case 'FindOutMore': 
            case 'Sign-in':
            // Falcon
            case 'PfinderFindMyProduct': 
            case 'Pfinderdetect-now': 
            case 'PfinderFindOutMore':
            case 'PfinderSign-in':
            // END: PFinder
            // Internal Search button
            case 'Oneboxsearch':
              do_st_v37(this.id);
              break;
          }
        } // END: Items with ID attributes
    } catch (e) {
      _A.log(e.message);
    }
  });

  // Items without an ID attribute - Rework into generic later, to minimize listeners on doc.body
  $(document.body).on('click', '#localIdentified .productTiles a,#networkIdentified .productTiles a', function(event) {
    try {
      do_st_v37('IdentifiedProductsTiles');
    } catch (e) {
      _A.log(e.message);
    }
  });

  // Items without an ID attribute - Generic handler
  $(document.body).on('click', function(event) {
    try {
      var evt = event.target;
      // Global carousels
      if(/^Carousel-/.test(evt.id)) {
        do_st_v37(evt.id);
      }
    } catch (e) {
      _A.log(e.message);
    }
  });

  // pfinder tracking - post pageload scenarios on select templates
  try {
    var pages = [
      'SiteHome',
      'ProductCategoryLanding',
      'Printer_Landing_New',
      'Computer_Landing_New',
      'Solution_Audio',
      'Solution_WirelessPrint'
    ];
    var pagesRgx = new RegExp('('+pages.toString().replace(/,/g,'|')+')');
    if(pagesRgx.test(globalDataLayer.Template)) {
      Bootstrapper.ajaxListener.create(function() {
        return document.querySelectorAll('div.pfinder-error-content') || [];
      }, function(n) {
        try {
          ess.linkTrackVars = 'prop2';
          ess.prop2 = globalDataLayer.PfinderQuery;
          ess.tl(true,'o','pfinder query - post pageload');
        }
        catch(e) {
          //
        }
      });
    }
  }
  catch(e) {
    //
  }

  //
  Bootstrapper.customStorage.allPages_bindClickEvents = true;
} // END: Bind once check

},4123320, 595275);
	Bootstrapper.bindDOMLoaded(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
// Content Unavailable tracking
// Tag name: [Support] - [Analytics]: Adobe - Content Unavailable Tracking (Pageload)
// Test URL: https://www.support.hp.com/us-en/deviceSearch

try {
  if($('div.service-unavailable-error-container:visible').length == 1) {
    if(globalDataLayer) {
      if(Object.keys(globalDataLayer).length === 0) {
        if(ess) {
          ess.registerPostTrackCallback(function() {
            ess.pageName = '';
            ess.prop3 = '';
          });
          ess.pageName = 'pps-ces|ContentUnavailable';
          ess.prop3 = 'Content Unavailable - Sorry Page';
          ess.t();
        }
      }
    }
  }
}
catch(e) {
  //
}

},3502601, 681131);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function anon() {
  var rval = '';
  try {
    rval = window.globalDataLayer.WebSectionId || '';
    return rval;
  }
  catch(e) {
    console.log('ENS EDL Error: ' + e.message);
    return rval;
  }
},transform: function(val) {
	return val ? val : "";
},load: 'instance',trigger: Bootstrapper.data.immediateTrigger,dataDefName: 'support_websectionid_async',collection: 'support',source: 'Manage',priv: 'false'}, {id: '60754'} );},60754);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    return globalDataLayer.EntitlementResults.EntResults || '';
  }
  catch(e) {
    console.log('ENS EDL Error: '+e.message);
    return '';
  }
},load: 'instance',trigger: function(){
  return Bootstrapper.data.triggerPromise(function(){
    var result = null;
    if(typeof(window.globalDataLayer) !== 'undefined') {
      if(typeof(window.globalDataLayer.EntitlementResults) !== 'undefined') {
        if(typeof(window.globalDataLayer.EntitlementResults.EntResults) == 'string') {
          result = true;
        }
      }
    }
    return result;
}, null,10000)},dataDefName: 'support_EntitlementResults',collection: 'support',source: 'Manage',priv: 'false'}, {id: '6093'} );},6093);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var val = globalDataLayer.Product.productLineCode || 'null';
    //
    //console.log('ENS EDL - support_productLineCode_copy1 is: ' + val);
    //
    return val;
  } catch (e) {
    console.log('ENS EDL Error: ' + e.message);
    return '';
  }
},transform: function(val) {
	return val ? val : "";
},load: 'instance',trigger: Bootstrapper.data.bottomOfBodyTrigger,dataDefName: 'support_productLineCode_BoB',collection: 'support',source: 'Manage',priv: 'false'}, {id: '52121'} );},52121);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var workingObj = globalDataLayer.Dashboard,
    val_c23 = '';
    if(!!workingObj) {
      if(typeof workingObj.NoOfDevices == 'number') {
        if(workingObj.NoOfDevices > 0) {
          for(i=0;i<workingObj.Products.length;i++) {
            val_c23 = val_c23 + workingObj.Products[i].audienceType + ':' + workingObj.Products[i].productLineCode + ':' + workingObj.Products[i].productNumber + '|';
          }
          // Remove trailing pipe
          val_c23 = val_c23.slice(0,val_c23.length-1);
        }
      }
    }
    return val_c23;
  }
  catch(e) {
    console.log('ENS EDL Error: '+e.message);
    return '';
  }
},transform: function(val) {
	return val ? val : "";
},load: 'instance',trigger: Bootstrapper.data.bottomOfBodyTrigger,dataDefName: 'support_dashboard_products_BoB',collection: 'support',source: 'Manage',priv: 'false'}, {id: '52932'} );},52932);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
var serviceUnavail = setInterval(function() {
    if (document.querySelectorAll('.error-modal.service-unavialable.ltr')[0]) {
        clearInterval(serviceUnavail);
				Bootstrapper.ensEvent.trigger('Service Unavailable Error');
    }
}, 250);

},3988220, 760476);
	Bootstrapper.bindDependencyImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.customStorage = Bootstrapper.customStorage || {};
//
if (!Bootstrapper.customStorage.allPages_bindClickEvents_old) {
  // Clears SC events, props, evars
  function clearSC() {
    for (var i = 0; i <= 75; i++) {
      ess['prop' + i] = '';
      ess['eVar' + i] = '';
      if (i <= 5) ess['hier' + i] = '';
    }
    svarArr = ['pageName', 'channel', 'events', 'server'];
    for (var j = 0; j < svarArr.length; j++) {
      ess[svarArr[j]] = '';
    }
  }
  clearSC();

  // A lighter version of clearSC, which won't clear out everything in AJAX scenarios! Might need to add better logic for ess.events down the line.
  function clearSC_light(vars) {
    for (i = 0; i < vars.length; i++) {
      ess[vars[i]] = '';
    }
  }

  // A place to put stuff, if needed
  Bootstrapper.tempStorage = Bootstrapper.tempStorage || {};

  /*
  // BEGIN add prop36 to DM
  Bootstrapper.dataManager.push({
    name: "prop36",
    id: "prop36",
    data: {
      prop36: {
        name: "prop36",
        get: function() {
          var curPage = 'unknown';
          if (/\/[0-9a-z]+\/model\/[0-9a-z]+/i.test(window.location.href) === true) {
            curPage = 'pdp-model';
          } else if (/(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) === true) {
            curPage = 'pdp-series';
          } else if (/drivers/.test(window.location.pathname) === true) {
            curPage = 'drivers';
          }
          if (window.location.pathname.indexOf('/search') > -1 && /\?q=[a-zA-Z0-9]/.test(window.location.search) === true) {
            var prop36 = '',
              cat = '',
              searchQuery = '',
              searchInstead = false;
            // try wrapper
            try {
              // [Test #1] - Detect search category
              cat = window.sessionStorage.srch_cat;
              searchQuery = globalDataLayer.Search.Query;
              switch (cat) {
                case '0':
                  cat = 'all support:';
                  break;
                case '1':
                  cat = 'softwaresdrivers:';
                  break;
                case '2':
                  cat = 'troubleshooting:';
                  break;
                case '3':
                  cat = 'howto:';
                  break;
                case '4':
                  cat = 'productinfo:';
                  break;
                case '5':
                  cat = 'userguide:';
                  break;
                default:
                  cat = 'search all support:';
              }

              // [Test #2] - Detect if there was a query match.
              // Look for the presence of a span that is only present when there are search matches
              // if (document.querySelector('#resultsCount') !== null) {
              if (typeof(globalDataLayer.Search.Count) == 'number') {
                if (globalDataLayer.Search.Count > 0) {
                  // Return search query as-is
                  searchQuery = globalDataLayer.Search.Query;
                }
              }

              // [Test #3] - Detect if there was no query match.
              // if (document.querySelector('#resultsCount') == null) {
              if (globalDataLayer.Search.Count == ('' | 0)) {
                // Return search query with 'no results: ' prefix
                searchQuery = 'no results:' + globalDataLayer.Search.Query;
              }

              // [Test #4] - Detect if "Search instead for" was triggered.
              // Look for "Search instead for..." shown on page
              if (document.querySelectorAll('p.search-error').length > 0) {
                searchInstead = true;
              }

              // Assemble prop36
              prop36 = cat + (searchInstead ? 'search instead:' : '') + searchQuery;

              // Final return
              return prop36.toLowerCase();
            } // end try wrapper
            catch (e) {
              console.log('Error - ' + e.message);
            }
          }
          // R3 - Capture search query if auto-redirected by the site from the search page to a PDP or SWD page
          else if ((document.referrer.indexOf('search?q=') !== -1) && (curPage == 'pdp-model' || 'pdp-series' || 'drivers')) {
            var prop36 = '',
              cat = '',
              searchQuery = '';
            // try wrapper
            try {
              // [Test #1] - Detect search category
              cat = window.sessionStorage.srch_cat;
              searchQuery = globalDataLayer.Search.Query;
              switch (cat) {
                case '0':
                  cat = 'all support:';
                  break;
                case '1':
                  cat = 'softwaresdrivers:';
                  break;
                case '2':
                  cat = 'troubleshooting:';
                  break;
                case '3':
                  cat = 'howto:';
                  break;
                case '4':
                  cat = 'productinfo:';
                  break;
                case '5':
                  cat = 'userguide:';
                  break;
                default:
                  cat = 'search all support:';
              }
              // Assemble prop36
              prop36 = cat + (searchInstead ? 'search instead:' : '') + decodeURIComponent(document.referrer.split(/(\?q=|&)/)[2]);
              // Final return
              return prop36.toLowerCase();
            } // end try wrapper
            catch (e) {
              console.log('Error - ' + e.message);
            }
          }
        }
      }
    }
  });
  // END add prop36 to DM
  */

  /*
  * Set diagnostic variables

  //set URL and referrer
  ess.eVar90=document.location.href;
  ess.eVar91=document.referrer;
  //set code type, code base, publish date
  codeType='ens'; //ens:Ensighten, js:Stand-along JS, gtm:GTM, dtm:DTM
  codeBase=(Bootstrapper.ensightenOptions.staticJavascriptPath.indexOf('-test')>0?'dev:':'')+Bootstrapper.ensightenOptions.publishPath; //'hpcom_prod', 'test:hpcom_prod', etc.
  g=Bootstrapper.ensightenOptions.generatedOn; //e.g. 'Fri Sep 30 19:19:06 GTM 2016'
  codeDate=g.substring(8,10)+'-'+g.substring(4,7)+'-'+g.substring(g.length-4,g.length)+' '+g.substring(11,19); //DD-MMM-YYYY HH:MM:SS
  ess.eVar92=codeType+'|'+codeBase+'|'+codeDate; //CODE_TYPE|CODE_BASE|CODE_DATE, e.g. ens|hpcom_prod|30-Sep-2016 19:19:06
  ess.t();
  */ // Commented out by Arnold@Ensighten 10/25/2016 - Will re-instate after code review.

  // Set default DMD source on page load.
  window.ens_detection_source = 'DMD:';
  // Reset to DMD when "Software and Drivers > Check Now" is clicked
  $('#btnSwdScanNow').mousedown(function() {
    window.ens_detection_source = 'DMD:';
  });
  // R3 - Set to SWD if current URL contains /drivers
  if (/\/drivers/.test(window.location.pathname) === true) {
    window.ens_detection_source = 'SWD:';
  }

  var obj = "";


  //HOMEPAGE- IDENTIFY NOW BUTTON TRACKING TOP
  Bootstrapper.on('click', '#detectMyDeviceViewTopBtn', function() {
    if (window.globalDataLayer.Template == 'SiteHome') {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'homepage:identify now';
      ess.tl(this, "o", "homepage:identify now");
      clearSC_light(['eVar37']);
    }
  });

  //HOMEPAGE- IDENTIFY NOW BUTTON TRACKING BOTTOM
  /* DEPRECATED with R4 release
  $('#detectselfServiceBtn').on('click', function() {
    ess.linkTrackVars = 'events,eVar37';
    ess.linkTrackEvents = 'event18';
    ess.events = 'event18';
    ess.eVar37 = 'homepage:identify now-bottom';
    ess.tl(true, "o", "homepage:identify now-bottom");
    clearSC_light(['eVar37','events']);
  });
  */

  //HOMEPAGE & DRIVERS PAGE-FIND MY PRODUCT BUTTON TRACKING
  if (/\/products\/change-product/.test(window.location.href) === false) {
    $("input.pFinderSubmit,#pFinderSubmit").on("click", function() {
      var template = window.globalDataLayer.Template || 'no_template';
      if ($(this).attr('disabled') !== "disabled") {
        if (window.location.href.indexOf('/drivers') > -1) scLabel = template+' | FindMyProduct';
        else if (window.location.href.indexOf('/contact-hp') > -1) scLabel = template+' | FindMyProduct';
        else scLabel = template+' | FindMyProduct';
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = scLabel;
        ess.tl(this, "o", scLabel);
        clearSC_light(['eVar37']);
        //$("#product").submit();
      }
    });
  }
  //HOMEPAGE-FIND SERVICE LOCATION TRACKING
  Bootstrapper.on('click', 'div.wpthemeControlBody div.serviceInnerLeftCol a.tertiaryCtaArrow', function() {
    ess.linkTrackVars = 'events';
    ess.linkTrackEvents = 'event19';
    ess.events = 'event19';
    ess.tl(this, "o", "pps:Find now Link");
  });
  //HOMEPAGE-CHECK SERVICE STATUS TRACKING
  Bootstrapper.on('click', 'div.wpthemeControlBody div.serviceInnerRightCol a.tertiaryCtaArrow', function() {
    ess.linkTrackVars = 'events';
    ess.linkTrackEvents = 'event24';
    ess.events = 'event24';
    ess.tl(this, "o", "pps:Check Now Link");
  });
  //PRODUCTS PAGE-TOP RED ID NOW BUTTON TRACKING
  if (window.location.href.indexOf('/products/') > -1) {
    Bootstrapper.on('click', '#detectMyDeviceViewTopBtn', function() {
      var scLabel = 'products:identify now-top red';
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = scLabel;
      ess.tl(this, "o", scLabel);
      clearSC_light(['eVar37']);
    });
  }
  //HOMEPAGE & PRODUCT PAGE-WINDOWS8 BUTTON TRACKING
  Bootstrapper.on('click', '#aWindows8StickerLink', function() {
    if (window.location.href.indexOf('/products/') > -1) scLabel = 'product:MDA-Banner';
    else scLabel = 'home:MDA-Banner';
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = scLabel;
    ess.tl(this, "o", scLabel);
    clearSC_light(['eVar37']);
  }, true);
  //HOMEPAGE & PRODUCT PAGE-WINDOWS10 BUTTON TRACKING
  Bootstrapper.on('click', '#aWindowsStickerLink', function() {
    if (window.location.href.indexOf('/products/') > -1) scLabel = 'product:MDA-Banner';
    else scLabel = 'home:MDA-Banner';
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = scLabel;
    ess.tl(this, "o", scLabel);
    clearSC_light(['eVar37']);
  }, true);
  /*
  //HOMEPAGE-TAB NAVIGATION SUPPORTHOME TRACKING
  $('body').on('mousedown','#navSupportHome',function() {
    var template = window.globalDataLayer.Template;
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = template+' | SecNav - SupportHome';
    ess.tl(this, "o", template+" | SecNav - SupportHome");
    clearSC_light(['eVar37']);
  });
  */
  /*
  //HOMEPAGE-TAB NAVIGATION PRODUCTS TRACKING
  $('body').on('mousedown','#navProducts',function() {
    var template = window.globalDataLayer.Template;
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = template+' | SecNav - Products';
    ess.tl(this, "o", template+" | SecNav - Products");
    clearSC_light(['eVar37']);
  });
  */
  /*
  //HOMEPAGE-TAB NAVIGATION S&D TRACKING
  $('body').on('mousedown','#navSoftwaresAndDrivers',function() {
    var template = window.globalDataLayer.Template;
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = template+' | SecNav - Software';
    ess.tl(this, "o", template+" | SecNav - Software");
    clearSC_light(['eVar37']);
  });
  */
  //HOMEPAGE-TAB NAVIGATION COMMUNITIES CONSUMER TRACKING
  $('#navConsumerForum').click(function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = 'topnav-consumer';
    ess.tl(this, "o", "topnav-consumer");
    clearSC_light(['eVar37']);
  });
  //HOMEPAGE-TAB NAVIGATION COMMUNITIES ENTERPRISE TRACKING
  $('#navEnterpriseBusiness').click(function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = 'topnav-enterprise business';
    ess.tl(this, "o", "topnav-enterprise business");
    clearSC_light(['eVar37']);
  });
  /*
  //HOMEPAGE-TAB NAVIGATION CONTACTSUPPORT TRACKING
  $('body').on('mousedown','#lnkContactHp',function() {
    var template = window.globalDataLayer.Template;
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = template+' | SecNav - ContactSupport';
    ess.tl(this, "o", template+" | SecNav - ContactSupport");
    clearSC_light(['eVar37']);
  });
  */
  //SOFTWARE & DRIVERS PAGE - IDENTIFY NOW BUTTON TRACKING
  $('#detectSwdBtn').on('click', function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = 'drivers:identify now';
    ess.tl(this, "o", 'drivers:identify now');
    clearSC_light(['eVar37']);
    return false;
  });
  //HOMEPAGE & DRIVERS PAGE-S&D SECTION NARROW DOWN BUTTON TRACKING
  Bootstrapper.on('click', 'input#btnContinue', function() {
    if (window.location.href.indexOf('/drivers') > -1) {
      scLabel = 'drivers:narrow down option';
    } else {
      scLabel = 'home:narrow down option';
    }
    if ($('input#btnContinue').attr('disabled') !== 'disabled') {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = scLabel;
      ess.tl(this, "o", scLabel);
      clearSC_light(['eVar37']);
    }
  });

  // Nov 2015 - Added this condition to prevent dupes on Support Forum links on warranty result pages
  if (/warrantyresult/.test(window.location.pathname) === false) {
    //HOMEPAGE-SUPPORT COMMUNITIES CONSUMER BUTTON TRACKING
    Bootstrapper.on('click', '#btnConsumerSupportJoinNow', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'home:visit now-consumer';
      ess.tl(this, "o", "home:visit now-consumer");
      clearSC_light(['eVar37']);
    });
    //HOMEPAGE-SUPPORT COMMUNITIES ENTERPRISE BUTTON TRACKING
    Bootstrapper.on('click', '#btnEnterpriseSupportJoinNow', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'home:visit now-enterprise business';
      ess.tl(this, "o", "home:visit now-enterprise business");
      clearSC_light(['eVar37']);
    });
  }

  //PRODUCTS PAGE-ID NOW BANNER TRACKING
  Bootstrapper.on('click', '#detectMyDeviceFullWidthBtn', function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = 'products:identify now-banner red';
    ess.tl(this, "o", "products:identify now-banner red");
    clearSC_light(['eVar37']);
  });
  //ENTITLEMENT-CHAT SUBMIT BUTTON TRACKING
  Bootstrapper.on('click', '#entitlementChat', function() {
    ess.linkTrackVars = 'events';
    ess.linkTrackEvents = 'event20';
    ess.events = 'event20';
    ess.tl(this, "o", "pps:Submit Entitlement Chat");
    clearSC_light(['events']);
    setTimeout(function() {
      document.forms.contact.submit();
    }, 200);
    return false;
  });
  //ENTITLEMENT-EMAIL SUBMIT BUTTON TRACKING
  Bootstrapper.on('click', '#entitlementEmail', function() {
    ess.linkTrackVars = 'events';
    ess.linkTrackEvents = 'event20';
    ess.events = 'event20';
    ess.tl(this, "o", "pps:Submit Entitlement Email");
    clearSC_light(['events']);
    setTimeout(function() {
      document.forms.emailContact.submit();
    }, 200);
    return false;
  });
  //ENTITLEMENT-CHAT TAB TRACKING
  Bootstrapper.on('mousedown', 'div#contactBox div#chatHeader', function() {
    ess.linkTrackVars = 'events,eVar12';
    ess.linkTrackEvents = 'event17';
    ess.events = 'event17';
    ess.eVar12 = 'chat';
    ess.tl(this, "o", "pps:Chat with an Agent");
    clearSC_light(['eVar12', 'events']);
  });
  //ENTITLEMENT-CALL TAB TRACKING
  Bootstrapper.on('click', 'div#contactBox div#callHeader', function() {
    ess.linkTrackVars = 'events,eVar12';
    ess.linkTrackEvents = 'event17';
    ess.events = 'event17';
    ess.eVar12 = 'call';
    ess.tl(this, "o", "pps:Call HP Support");
    clearSC_light(['eVar12', 'events']);
  });
  //ENTITLEMENT-EMAIL TAB TRACKING
  Bootstrapper.on('click', 'div#contactBox div#emailHeader', function() {
    ess.linkTrackVars = 'events,eVar12';
    ess.linkTrackEvents = 'event17';
    ess.events = 'event17';
    ess.eVar12 = 'email';
    ess.tl(this, "o", "pps:Email HP Support");
    clearSC_light(['eVar12', 'events']);
  });
  /*
  //ENTITLEMENT-CHAT FORM SUBMIT TRACKING
  Bootstrapper.on('click', 'input#chatFormSubmit', function() {
    ess.linkTrackVars = 'events,eVar44';
    ess.linkTrackEvents = 'event15';
    ess.events = 'event15';
    ess.eVar44 = 'Submit Chat';
    ess.tl(this, "o", "pps:Submit Chat");
    clearSC_light(['eVar44','events']);
  });
  //ENTITLEMENT-EMAIL FORM SUBMIT TRACKING

  Bootstrapper.on('click', 'input#emailFormSubmit', function() {
    ess.linkTrackVars = 'events,eVar44';
    ess.linkTrackEvents = 'event15';
    ess.events = 'event15';
    ess.eVar44 = 'Submit Email';
    ess.tl(this, "o", "pps:Submit Email");
    clearSC_light(['eVar44','events']);
  });
  */
  //CONTACT-HP : CHECK REPAIR STATUS
  $("#checkServiceStatusLink").on("click", function() {
    ess.linkTrackVars = 'events';
    ess.linkTrackEvents = 'event24';
    ess.events = 'event24';
    ess.tl(this, "o", 'contact-hp:check repair status');
    clearSC_light(['events']);
  });
  //CONTACT-HP : FIND NOW
  $("#findServiceLocationLink").on("click", function() {
    ess.linkTrackVars = 'events';
    ess.linkTrackEvents = 'event19';
    ess.events = 'event19';
    ess.tl(this, "o", 'contact-hp:find now');
    clearSC_light(['events']);
  });

  // BEGIN - CONTACT-SUPPORT CHECK

  if (/\/contact-hp/.test(window.location.href) == true) {
    // BEGIN - POLL FOR DELAYED ELEMENTS
    // CONTACT-HP : CONTACT OPTIONS FORM SUBMIT
    // Updated: 12/12/2014 - AJH

    Bootstrapper.ajaxListener.create(function() {
      return $("#btnContactFormSubmit") || [];
    }, function(n) {
      $("#btnContactFormSubmit").on("click", function() {
        ess.linkTrackVars = 'events';
        ess.linkTrackEvents = 'event20';
        ess.events = 'event20';
        ess.tl(this, "o", "Submit contact options form");
        clearSC_light(['events']);
      });
    });
    
    /* Deprecated Sept 2017
    //CONTACT-HP : REQUEST CALL
    Bootstrapper.ajaxListener.create(function() {
      return $("#callBackSubmit") || [];
    }, function(n) {
      $("#callBackSubmit").on("click", function() {
        ess.linkTrackVars = "events,eVar44";
        ess.linkTrackEvents = "event15";
        ess.events = "event15";
        ess.eVar44 = "contact-hp:call request";
        ess.tl(this, "o", "contact-hp:call request");
        clearSC_light(['eVar44', 'events']);
      });
    });
    //CONTACT-HP : CHAT NOW
    Bootstrapper.ajaxListener.create(function() {
      return $("#chatFormSubmit") || [];
    }, function(n) {
      $("#chatFormSubmit").on("click", function() {
        ess.linkTrackVars = "events,eVar44";
        ess.linkTrackEvents = "event15";
        ess.events = "event15";
        ess.eVar44 = "contact-hp:chat";
        ess.tl(this, "o", "contact-hp:chat");
        clearSC_light(['eVar44', 'events']);
      });
    });
    //CONTACT-HP : DISPUTE LINK
    Bootstrapper.ajaxListener.create(function() {
      return $('.dispute-bar a') || [];
    }, function(n) {
      $('.dispute-bar a').on("click", function() {
        ess.linkTrackVars = 'events,eVar44';
        ess.linkTrackEvents = 'event15';
        ess.events = 'event15';
        ess.eVar44 = 'contact-hp:dispute form';
        ess.tl(this, "o", "contact-hp:dispute form");
        clearSC_light(['eVar44', 'events']);
      });
    });
    //CONTACT-HP : YES EMAIL ME
    Bootstrapper.ajaxListener.create(function() {
      return $("#emailFormSubmit") || [];
    }, function(n) {
      $("#emailFormSubmit").on("click", function() {
        ess.linkTrackVars = 'events,eVar44';
        ess.linkTrackEvents = 'event15';
        ess.events = 'event15';
        ess.eVar44 = 'contact-hp:email';
        ess.tl(this, "o", 'contact-hp:email');
        clearSC_light(['eVar44', 'events']);
      });
    });
    //CONTACT-HP : GET PHONE SUPPORT
    Bootstrapper.ajaxListener.create(function() {
      return $("#getPhoneSupport") || [];
    }, function(n) {
      $("#getPhoneSupport").on("click", function() {
        ess.linkTrackVars = 'events,eVar44';
        ess.linkTrackEvents = 'event15';
        ess.events = 'event15';
        ess.eVar44 = 'contact-hp:phone';
        ess.tl(this, "o", 'contact-hp:phone');
        clearSC_light(['eVar44', 'events']);
      });
    });
    */
    // CONTACT HP PAGES > Ask Harper chat handover click tracking
    Bootstrapper.ajaxListener.create(function() {
      return $("#teneoLMIChatButton") || [];
    }, function(n) {
      // Copying/hooking into existing form validation function to only send track call when the form is properly filled out
      window.teneoCallLMI = function() {
        var caseNumber = "";
        var caseId = "";
        var rData = teneoGetUserData();
        if (!rData) return false;
        // Begin SC click tracking
        ess.linkTrackVars = "events,eVar44";
        ess.linkTrackEvents = "event15";
        ess.events = "event15";
        ess.eVar44 = "ask harper:chat handover";
        ess.tl(this, "o", "ask harper:chat handover");
        ess.eVar44 = "";
        ess.events = "";
        // End SC click tracking
        var servicePath = teneoSFServicePath;
        $.each(rData, function(key, data) {
          servicePath += "&" + key + "=" + encodeURIComponent(data)
        });
        var proxyRequest = {
          authUrl: teneoSFAuthUrl,
          serviceMethod: "GET",
          execEnv: teneoExecEnv,
          servicePath: servicePath
        };
        teneoShowPopup();
        teneoCurrentMessage = "hp_salesforce_unexpected_failure";
        $.ajax({
          type: "POST",
          url: teneoSFProxyUrl,
          data: JSON.stringify({
            proxyRequest: proxyRequest
          }),
          dataType: "json",
          success: function(data) {
            if (data && data.data && data.data.CaseNumber) {
              $("#teneoChatCaseNumber").html("CaseNumber : " + data.data.CaseNumber);
              caseNumber = data.data.CaseNumber;
              rData.caseNumber = caseNumber
            }
            if (data && data.data && data.data.Id) {
              $("#teneoChatCaseId").html("CaseId : " + data.data.Id);
              console.log("data.data.Id = " + data.data.Id);
              caseId = data.data.Id;
              rData.id = caseId
            }
            $("#teneoProgress").html("Please wait while transferring data to the live chat agent...")
          },
          failure: function(errMsg) {
            console.error(errMsg);
            $("#teneoProgress").html("There was an unexpected error. Please try later.")
          }
        }).done(function(data) {
          if (caseNumber === "") {
            console.error("teneo failed to create case");
            teneoHidePopup();
            return false
          }
          rData["description"] = teneoGetProblemDescription("LMI");
          var requestJson = JSON.stringify(rData);
          teneoCurrentMessage = "hp_lmi_handover_unexpected_failure";
          $.ajax({
            url: lmiserviceurl,
            type: "POST",
            dataType: "script",
            data: {
              requestJson: requestJson
            },
            success: function(data) {
              try {
                var code2add = "<script>" + data + "\x3c/script>";
                $("body").append(code2add);
                var jData = {};
                jData.CaseNumber = caseNumber;
                jData.Id = caseId;
                jData.Name = rData.firstName + " " + rData.lastName;
                jData.Email = rData.email;
                jData.Description = rData.description;
                jData.ProductName = rData.productName;
                loadInstantChat(JSON.stringify(jData), chatQueue);
                teneoCurrentMessage = "";
                DI.VA.hp_support_va.hide();
                DI.VA.hp_support_va.sendInput("hp_salesforce_case_number: " + caseNumber, {
                  caseNumber: caseNumber
                }, {
                  complete: function() {
                    teneoHidePopup();
                    DI.VA.hp_support_va.close()
                  }
                })
              } catch (e) {
                teneoHidePopup();
                console.error(e)
              }
            },
            failure: function(errMsg) {
              console.error(errMsg);
              teneoHidePopup()
            }
          }).done(function(data) {})
        })
      };
    }); // END - POLL FOR DELAYED ELEMENTS

    /*
    // Contact Support impression tracking
    Bootstrapper.bindDOMParsed(function() {
      setTimeout(function() {
        // Only do this if the contact form is not present
        if($('#pnlContactOptions').length > 0) {
          var elmArr = [
          '#chatFormSubmit',
          '#getPhoneSupport',
          '#emailFormSubmit',
          '#callBackSubmit'
          ],
          str='';

          for(i=0;i<elmArr.length;i++) {
            var result = document.querySelectorAll(elmArr[i]);
            result = result.length > 0 ? true : false;
            var str2p = '';
            //
            switch(elmArr[i]) {
              case '#chatFormSubmit':
                str2p = 'CH:Imp';
                break;
              case '#getPhoneSupport':
                str2p = 'PH:Imp';
                break;
              case '#emailFormSubmit':
                str2p = 'EM:Imp';
                break;
              case '#callBackSubmit':
                str2p = 'RC:Imp';
                break;
            }
            //
            if(result === true) {
              str = Bootstrapper.CustomUtils.do_concat(str2p,str,' | ');
            }
          }
          if(str.length == 0) {
            str = 'NS:Imp';
          }
          // Do SC call
          ess.linkTrackVars = 'events,eVar44';
          ess.linkTrackEvents = 'event15';
          ess.events = 'event15';
          ess.eVar44 = str;
          ess.tl(true,'o',str);
          clearSC_light(['eVar44','events']);
          //
        }
      },4000); // End setTimeout
    }); // End BDP
    */

    /*
    // prop3 (globalDataLayer.Template) trigger registration
    $(window).on('entitlementResults',function(_obj,_data) {
      console.log('entitlementResults event triggered');
      ess.linkTrackVars = 'prop3';
      ess.prop3 = _data.entResults;
      ess.tl(true,'o','entitlementResults');
    });
    console.log('entitlementResults event binding complete');
    */

    $('#detectMyDeviceDefaultBtn').on('click', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'contact-hp:identify now';
      ess.tl(true, "o", "contact-hp:identify now");
      clearSC_light(['eVar37']);
    });

  } // END - CONTACT-SUPPORT CHECK

  //CONTACT-HP : ASK HARPER TILE
  $("#askMary a").on("click", function() {
    ess.linkTrackVars = "events,eVar44";
    ess.linkTrackEvents = "event15";
    ess.events = "event15";
    ess.eVar44 = "ask harper:chat";
    ess.tl(this, "o", "ask harper:chat");
    clearSC_light(['eVar44', 'events']);
  });

  //SOFTWARE & DRIVERS - DOWNLOAD FILES
  $(".driverDownload a.primButtonEnhanced").on("click", function() {
    ess.linkTrackVars = 'eVar73';
    var _e73 = $(this).attr('href').split('/').pop();
    ess.eVar73 = 'pdp-model:drivers-dl:' + _e73;
    ess.tl(this, "o", 'pdp-model:drivers-dl:' + _e73);
    clearSC_light(['eVar73']);
  });

  /*********************************/
  /*
  //PRODUCT DETAIL PAGE > CATEGORY SELECTION "PAGELOAD" EVENT
  (function() {
    var ref = 'unknown',
      cat = '',
      clicked_cat = '',
      pageName = '';
    //
    if (/\/[0-9a-z]+\/model\/[0-9a-z]+/i.test(window.location.href) == true) {
      ref = 'Model';
    } else if (/(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) == true) {
      ref = 'Series';
    }
    // Do the processing on mousedown
    $('.hp-nav-tabs-bg li a').on('mousedown', function() {
      try {
        clearSC();
        var result = '';
        // Get pre "nav" pageName value to use as a template
        pageName = Bootstrapper.data.resolve('Manage.support.support_pageName');
        // Get clicked cat name
        clicked_cat = $(this).attr('id');
        // Clean up the clicked cat name and append ref value (model/series)
        cat = clicked_cat.charAt(0).toUpperCase() + clicked_cat.slice(1) + '-' + ref;
        // Split the pre "nav" pageName on "|"
        var sp_arr = pageName.split('|');
        // Swap the second value with the formatted clicked cat name
        sp_arr[1] = cat;
        // Rebuild the pageName value with the clicked cat name in it
        for (i = 0; i < sp_arr.length; i++) {
          result = Bootstrapper.CustomUtils.do_concat(sp_arr[i], result, '|');
        }
        // Re-assign pageName to the updated value
        pageName = result.toLowerCase();
        // Make assignments to the tracking vars (these two eVars should not be reset after ess.t())
        ess.eVar46 = cat;
        ess.eVar55 = pageName + ':' + clicked_cat.toLowerCase();
        //
        ess.pageName = pageName + ':' + clicked_cat.toLowerCase();
        ess.prop3 = cat;
      } catch (e) {
        console.log('Error: ' + e.message);
      }
    });
    // Do tracking and cleanup on mouseup
    $('.hp-nav-tabs-bg li a').on('mouseup', function() {
      try {
        ess.t();
        //Bootstrapper.CustomUtils.clearSC_light(['prop3', 'pageName']);
        clearSC();
        ess.eVar46 = cat;
        ess.eVar55 = pageName + ':' + clicked_cat.toLowerCase();
      } catch (e) {
        console.log('Error: ' + e.message);
      }
    });
  }());
  */

  // The following is deferred from the April 20 MTP per Asif. Waiting until c3/v46 decision is made. Need to MTP this, when the page load deployments are MTP.

  //PRODUCT DETAIL PAGE > CATEGORY SELECTION "PAGELOAD" EVENT
  (function() {
    // Do the processing on mousedown
    $('body').on('mousedown', '.hp-nav-tabs-bg li a', function() {
      // Clear out c66,v36,v56, as we don't want these included in the PDP tab clicks
      Bootstrapper.CustomUtils.clearSC_light(['prop66', 'eVar36', 'eVar56']);
      //
      // Store the clicked cat in a global var for the setTimeout below
      Bootstrapper.tempStorage.pdpLastCatClicked = $(this).attr('id');
      // Give the page a second to populate the correct template value in globalDataLayer
      setTimeout(function() {
        try {
          var ref = 'unknown',
            cat = '',
            clicked_cat = '',
            pageName = '';
          //
          var getErrorLookupWidgetImp = function() {
            try {
              var elm = document.querySelectorAll('div.error-lookup-container');
              if(elm.length > 0) {
                if(document.querySelectorAll('div.error-lookup-container')[0].clientHeight > 0) {
                  return 'error-lookup-widget-impression';
                }
                return '';
              }
              else {
                return '';
              }
            }
            catch(e){
              return '';
            };
          }
          //
          if (/\/[0-9a-z]+\/model\/[0-9a-z]+/i.test(window.location.href) == true) {
            ref = 'Model';
          } else if (/(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) == true) {
            ref = 'Series';
          }
          //
          var result = '';
          // Get pre "nav" pageName value to use as a template
          pageName = Bootstrapper.data.resolve('Manage.support.support_pageName');
          // Get clicked cat name
          clicked_cat = Bootstrapper.tempStorage.pdpLastCatClicked;
          // Clean up the clicked cat name and append ref value (model/series)
          cat = clicked_cat.charAt(0).toUpperCase() + clicked_cat.slice(1) + '-' + ref;
          // Split the pre "nav" pageName on "|"
          var sp_arr = pageName.split('|');
          // Swap the second value with the formatted clicked cat name
          sp_arr[1] = cat;
          // Rebuild the pageName value with the clicked cat name in it
          for (i = 0; i < sp_arr.length; i++) {
            result = Bootstrapper.CustomUtils.do_concat(sp_arr[i], result, '|');
          }
          // Re-assign pageName to the updated value
          pageName = result.toLowerCase();
          // Make assignments to the tracking vars (these two eVars should not be reset after ess.t())
          ess.eVar46 = window.globalDataLayer.Template;
          ess.eVar55 = pageName + ':' + clicked_cat.toLowerCase();
          //
          ess.pageName = pageName + ':' + clicked_cat.toLowerCase();
          ess.prop3 = window.globalDataLayer.Template;
          // Troubleshooting tab > Error Lookup Widget impression tracking
          ess.prop36 = getErrorLookupWidgetImp();
          // Do PV call
          ess.t();
          // Not sure that we need to clear these out, so leaving these in place for now...
          //Bootstrapper.CustomUtils.clearSC_light(['prop3','pageName']);      
        } catch (e) {
          console.log('Error: ' + e.message);
        }
      }, 1000);
    });
  }());

  //PRODUCT DETAIL PAGE > FIND SOLUTIONS BUTTON TRACKING (item 5 in TrackingRequirements doc)
  // This elm is sometimes late to get drawn into the DOM, so wrapping in ajaxListener...
  if (/\/product\/[a-z0-9-]+\/[0-9]+\/model\/[0-9]+/i.test(window.location.href) === true) {
    Bootstrapper.ajaxListener.create(function() {
      return $('#findSolutionsBtn') || [];
    }, function(n) {
      $('#findSolutionsBtn').mousedown(function() {
        window.ens_detection_source = 'FSOL: ';
      });
      $('#findSolutionsBtn').on("click",
        function(event) {
          if (typeof(event.isTrigger) == 'undefined') {
            ess.linkTrackVars = 'eVar37';
            ess.eVar37 = 'pdp-model:find solutions';
            ess.tl(true, "o", "pdp-model:find solutions");
            clearSC_light(['eVar37']);
          }
        });
    });
  }

  /*********************************/
  //PRODUCT DETAIL PAGE > FIND SOLUTIONS BUTTON TRACKING (item 5 in TrackingRequirements doc. Regex might need adjustment; not 100% sure yet; needs QA.)
  // This elm is sometimes late to get drawn into the DOM, so wrapping in ajaxListener...
  if (/(\/product\/[a-z0-9-]+\/[0-9]+)($|\/|#|\?)(?!model)/i.test(window.location.href) === true) {
    Bootstrapper.ajaxListener.create(function() {
      return $('#findSolutionsBtn') || [];
    }, function(n) {
      $('#findSolutionsBtn').mousedown(function() {
        window.ens_detection_source = 'FSOL: ';
      });
      $('#findSolutionsBtn').on("click",
        function(event) {
          if (typeof(event.isTrigger) == 'undefined') {
            ess.linkTrackVars = 'eVar37';
            ess.eVar37 = 'pdp-series:find solutions';
            ess.tl(true, "o", "pdp-series:find solutions");
            clearSC_light(['eVar37']);
          }
        });
    });
  }

  /*********************************/
  // PRODUCT DETAIL PAGE > DYNAMIC CATEGORY TRAKING ON FEATURED CONTENT ARTICLES, AND MORE SUPPORT OPTIONS LINKS (items 10-15 in TrackingRequirements doc.)
  // Refactored: 16 May 2017 > 01 August 2017

  (function() {
    // Detect if on "product series" or "product model" PDP. Proceed only if true.
    var proceed = false,
      ref = '';
    if (/\/[0-9a-z]+\/model\/[0-9a-z]+/i.test(window.location.href) == true) {
      ref = 'model';
      proceed = true;
    } else if (/(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) == true) {
      ref = 'series';
      proceed = true;
    }
    //
    // Only run this code on applicable pages. Precursor to implementation of ENS conditions in future revs?
    if (proceed == true) {
      // Document tracking //
      // --------------------- //
      /* OLD VERSION - Deprecated 01Aug2017
        // Get hidden span content. Default value = 'Featured'.
        var docCatID = 'Featured';
        $('body').on('click','ul[id*="_dd_list"] a',function() {
          //console.log('Document category chosen');
          try{
            // Get hidden doc category ID
            //console.log('Hidden doc ID is: '+this.children[0].innerText);
            // Assign
            docCatID = this.children[0].innerText;    
          }
          catch(e) {}
        });
        // Bind to clicks on document links
        $('body').on('mousedown','a[href*="/document/"]',function() {
          // Assemble prefix for c35
          var template = window.globalDataLayer.Template || '-';
            template = template.toLowerCase();
          var templateArr = template.split('-');
          var prefix = 'pdp-'+templateArr[1]+':'+templateArr[0]+':';
          
          // Get doc ID, and assemble c35
          var docID = this.id;
          // If matching article...
          var c35 = prefix+docCatID+':'+docID;
          // If featured article, switch up the order for c35
          if(/Featured/.test(docCatID) === true) {
            c35 = 'pdp-'+templateArr[1]+':Featured:'+templateArr[0]+':'+docID;
          }
          ess.linkTrackVars = 'prop35';
          ess.prop35 = c35;
          ess.tl(true, "o", ess.prop35);
          clearSC_light(['prop35']);
          //console.log('Prop 35 will be: '+c35);
        });    
      */
      var retValHref;
      function getDocID(linkHref) {
        // Parse out docID
        retValHref = '';
        var linkPartsArr = linkHref.split('/');
        // Get last part and strip out trailing slash
        // Examine the last entry in the array
        var linkPartsArrLast = linkPartsArr[linkPartsArr.length-1];
        // The docID did not have a trailing slash
        if(linkPartsArrLast.length > 0) {
          retValHref = linkPartsArr[linkPartsArr.length-1];
        }
        // The docID did have a trailing slash, so format accordingly
        else {
          retValHref = linkPartsArr[linkPartsArr.length-2].replace('\/','');
        }
        return retValHref;
      }

      var zThesisID = '';
      // Get zThesisID
      $('body').on('click','ul[id*="_dd_list"] a',function() {
        //console.log('Document category chosen');
        try{
          // Get hidden doc category ID
          //console.log('Hidden doc ID is: '+this.children[0].innerText);
          // Assign
          zThesisID = this.children[0].innerText;    
        }
        catch(e) {}
      });

      // Featured
      $('body').on('mousedown','div[id*="dd-fc-items_"] a',function() {
        var docID = getDocID(this.href);
        //
        ess.linkTrackVars = 'prop35';
        ess.prop35 = 'Featured | '+window.globalDataLayer.Template+' | '+docID;
        if(zThesisID.length > 0) {
          ess.prop35 = ess.prop35+' | '+zThesisID
        }
        ess.tl(this, "o", ess.prop35);
        clearSC_light(['prop35']);
      });

      // Matching
      $('body').on('mousedown','div[id*="dd-items_"] a',function() {
        var docID = getDocID(this.href);
        //
        ess.linkTrackVars = 'prop35';
        ess.prop35 = 'Matching | '+window.globalDataLayer.Template+' | '+docID;
        if(zThesisID.length > 0) {
          ess.prop35 = ess.prop35+' | '+zThesisID
        }
        ess.tl(this, "o", ess.prop35);
        clearSC_light(['prop35']);
      });

      // MSO tracking //
      // --------------- //
      $('body').on('mousedown','#ulMoreOptions a',function() {
        var href = $(this).attr('href'),
          template = window.globalDataLayer.Template || '',
          _ev40 = 'MoreSupportOptions|' + template + '|' + href;
        ess.linkTrackVars = 'events,eVar40';
        ess.linkTrackEvents = 'event25';
        ess.events = 'event25';
        ess.eVar40 = _ev40;
        ess.tl(this, "o", _ev40);
        clearSC_light(['eVar40', 'events']);
      });

    } // End of location specific code
  }()); // End anon function

  /*********************************/
  // PRODUCT DETAIL PAGE > NOT YOUR PRODUCT LINK TRACKING
  // Had to use ajaxListener because the modal takes extra time after DOM ready to get into the DOM
  if (/\/product\/[a-z0-9-]+\/[0-9]+\/model\/[0-9]+/i.test(window.location.href) === true || /(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) === true) {
    Bootstrapper.ajaxListener.create(function() {
      return $('.loadDMDModal:eq(1) a[id="productDetailsDMDModalviewBtn"]') || [];
    }, function(n) {
      $('.loadDMDModal:eq(1) a[id="productDetailsDMDModalviewBtn"]').on("click",
        function() {
          window.ens_detection_source = 'DMD: ';
          ess.linkTrackVars = "eVar37";
          ess.eVar37 = "pdp-notyourproduct:identify now";
          ess.tl(true, "o", "pdp-notyourproduct:identify now");
          clearSC_light(['eVar37']);
        });
    });
  }

  /* Disabled per client - Keep DMD entry tracking in place, though...
  // Detect my device/DMD funnel tracking
  (function() {
    window.pushToGlobalDataLayer = function(step, DMDTemplate, SSFInstalled, SSFVersion, progress, errors, productsDetected, productList){
      //
      //console.log('pushToGlobalDataLayer called for step: '+step);
      //
      dataLayerObj = [];
      dataLayerObj.DMDPage=step;
      dataLayerObj.DMDSource=DMDTemplate;
      dataLayerObj.DMDSSFInstalled=SSFInstalled;
      dataLayerObj.DMDSSFVersion=SSFVersion;
      dataLayerObj.DMDProgress=progress;
      dataLayerObj.DMDErrors=errors;
      dataLayerObj.DMDProductsDetected=productsDetected;
      dataLayerObj.DMDProductList=productList;
      globalDataLayer.DMD.push(dataLayerObj);
      // Begin ENS tracking //
        // Default vars
        var p24,p25,p26,pageName;
        // Clears SC events, props, evars
        function clearSC() {
          for (var i = 0; i <= 75; i++) {
            ess['prop' + i] = '';
            ess['eVar' + i] = '';
            if (i <= 5) ess['hier' + i] = '';
          }
          svarArr = ['pageName', 'channel', 'events', 'server'];
          for (var j = 0; j < svarArr.length; j++) {
            ess[svarArr[j]] = '';
          }
        }  
        //
        // Catch cases where SSFVersion is empty string
        if(SSFInstalled == 'true') {
          if(SSFVersion == '') {
            SSFVersion = 'undefined';
          }
          p26 = SSFVersion+':'+SSFInstalled;
        }
        // Differentiate between MSI installed or not
        if(step == "Check Service") {
            if(SSFInstalled == "false") {
              step = 'Check Service | False';
            }
            else if(SSFInstalled == "true") {
              step = 'Check Service | True';
            }
        }
        // If productList has items, do toString() for tracking. Should work for both array and string
        if(typeof(productList) == ('object' || 'string')) {
          if(productList.length > 0) {
            //
            var  result='';
            for(i=0;i<productList.length;i++) {
              var name,serial;
              name = productList[i].ModelName;
              serial = productList[i].SerialNumber || 'no_serial';
              result = Bootstrapper.CustomUtils.do_concat(name+'|'+serial,result,',');
            } 
            //
            p25 = result;
            //
            //console.log(p25);
            //
          }
        }
        if(errors.length>0) {
          p24 = 'dmderror:'+errors.toString();
        }
        // Prefix detection
        var pfix = window.ens_detection_source || '',
          // Process flow location identifier
          identifier = window.globalDataLayer.Template || '',
          // Grab a copy of list3, pageName, and prop3, as we don't want these in the DMD tracking
          list3 = ess.list3 || '',
          pgName = ess.pageName || '',
          p3 = ess.prop3 || '';
        // Wipe out list3, pageName, and prop3 just for a moment...
        //ess.list3 = '';
        //ess.pageName = '';
        //ess.prop3 = '';
        //
        //clearSC();
        //pageName = step;
        //ess.pageName = identifier+':'+pfix+pageName;
        ess.prop47 = identifier+':'+pfix+step;
        ess.prop24 = p24;
        ess.prop25 = p25;
        ess.prop26 = p26;
        ess.t();
        clearSC_light(['prop47','prop24','prop25','prop26']);
        //clearSC();
        // Restore list3 for SiteHome tile click impression tracking, and pageName, and prop3 as well.
        ess.list3 = list3;
        ess.pageName = pgName;
        ess.prop3 = p3;
        // Clear out the prefix identifier
        //if(step == 'Detection Completed') {
          //window.ens_detection_source = '';
        //}
      // END ENS tracking //
    }
  }());
  */

  // PDP > Software & Drivers downloads tracking
  (function() {
    $('#pnlOsSelector + a').click(function() {
      setTimeout(function() {
        for (i = 0; i < $('#pdpSndDriverDetailsContainer a.downloadBtn').length; i++) {
          var cur_elm_href = $('#pdpSndDriverDetailsContainer a.downloadBtn:eq(' + i + ')').attr('href');
          cur_elm_split_arr = cur_elm_href.split('/'),
            filename = cur_elm_split_arr[cur_elm_split_arr.length - 1];
          $('#pdpSndDriverDetailsContainer a.downloadBtn:eq(' + i + ')').click(filename, function(filename) {
            ess.linkTrackVars = 'eVar73';
            ess.eVar73 = 'pdp-model:drivers-dl:' + filename.data;
            ess.tl(true, 'o', 'download_file_name');
            clearSC_light(['eVar73']);
          });
        }
      }, 1000);
    });
  }());

  // Alerts link tracking (pre-R4). Deprecated 03 August 2017
  /*
  $('.notification-body a').click(function() {
    var docUrl = this.href,
      docUrlArr = docUrl.split('/');
    // This might need to be changed to -1 in the future if the document does not have a trailing slash...
    docUrl = docUrlArr[docUrlArr.length - 2];
    ess.linkTrackVars = 'prop35';
    ess.prop35 = globalDataLayer.Template + ':alert:' + docUrl;
    ess.tl(this, 'o', globalDataLayer.Template + ':alert:' + docUrl);
    clearSC_light(['prop35']);
  });
  */

  // Laptop Scan now tracking
  (function() {
    var ref = 'unknown';
    if (/\/[0-9a-z]+\/model\/[0-9a-z]+/i.test(window.location.href) == true) {
      ref = 'model';
    } else if (/(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) == true) {
      ref = 'series';
    }
    $('#btnSwindexScanNow').mousedown(function() {
      window.ens_detection_source = 'SNOW: ';
    });
    $('#btnSwindexScanNow').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'pdp-' + ref + ':scan now';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }());

  // R3 - Model PDP pages, Software and Drivers > Check now clicks
  if (/\/[0-9a-z]+\/model\/[0-9a-z]+/i.test(window.location.href) == true) {
    $('#btnSwdScanNow').mousedown(function() {
      window.ens_detection_source = 'checknow: ';
    });
    $('#btnSwdScanNow').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'pdp-model:check now';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }

  // R3 - Software and Drivers link tracking
  // Sample URL: http://uat.support.hp.com/us-en/drivers/selfservice/hp-officejet-6300-all-in-one-printer-series/1120059/model/1120062
  // Big download buttons. These are available on initial pageload.
  // Also, something has hijacked the click event on the elm, so had to use mouseup....
  //$('tr.first-row a[softwareid]').on('click',function() {

  $('div.results').on('mouseup', 'tr.first-row a[softwareid]', function() {
    ess.linkTrackVars = 'events,eVar73';
    ess.linkTrackEvents = 'event91';
    ess.events = 'event91';
    ess.eVar73 = this.href;
    ess.tl(this, 'o', 'swd_download_click');
    clearSC_light(['eVar73', 'events']);
  });

  // Filename download links. Had to use jQuery event delgation to get to the link event handler, which is not populated until user clicks 'Details'
  // Also, something has hijacked the click event on the anchor, so had to use mouseup....
  $('div.results').on('mouseup', '.swd-expanded a[softwareid]', function() {
    ess.eVar73 = this.href;
    ess.linkTrackVars = 'eVar73';
    ess.tl(this, 'o', 'swd_download_click');
    clearSC_light(['eVar73']);
  });

  // R3 - Software and Drivers HPDIA modal selection tracking
  // Sample URL: http://uat.support.hp.com/us-en/drivers/selfservice/hp-officejet-6300-all-in-one-printer-series/1120059/model/1120062
  if ((/drivers\/selfservice\//.test(window.location.pathname) === true) && (/closure/.test(window.location.pathname) === false)) {
    setTimeout(function() {
      var hpdia = true,
        dl_only = false;
      $('div.radio:eq(0) div').click(function() {
        hpdia = true;
        dl_only = false;
      });
      $('div.radio:eq(1) div').click(function() {
        dl_only = true;
        hpdia = false;
      });
      $('#Hpdia_OptInDialog_BtnNext').mouseup(function() {
        if (hpdia === true) {
          ess.linkTrackVars = 'eVar73';
          ess.eVar73 = 'HPDIA';
          ess.tl(true, 'o', ess.eVar73);
          clearSC_light(['eVar73']);
          window.sessionStorage.setItem('hpdia_optin', 'true');
        } else if (dl_only === true) {
          ess.linkTrackVars = 'eVar73';
          ess.eVar73 = 'Download Only';
          ess.tl(true, 'o', ess.eVar73);
          clearSC_light(['eVar73']);
          window.sessionStorage.setItem('hpdia_optin', 'false');
        }
      });
    }, 3000);

    // Clicks on Learn more links - Dec 2016
    $('body').on('click', 'a.learnMoreLink', function() {
      var template = window.globalDataLayer.Template;
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = template+' | LearnMore';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }

  // R3  - SFS tracking
  // For SFS impression tracking
  if (/\/product\/[a-z0-9-]+\/[0-9]+\/model\/[0-9]+/i.test(window.location.href) === true || /(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) === true) {
    //
    Bootstrapper.sfs_imp_tracked = false;
    //
    Bootstrapper.ajaxListener.create(function() {
      return $('#dvPotentialSolutions a') || [];
    }, function(n) {
      setTimeout(function() {
        var sfs_articles = $('#dvPotentialSolutions a'),
          sfs_arr = [],
          sfs = '',
          client = '',
          productNumber = '',
          result = '',
          // Modified version of Bootstrapper.getQueryParam for use here
          getQueryParam = function(key, loc) {
            if (!this.params || loc) {
              var search = loc || window.location.search;
              search = search.toString();
              var params = search.replace(/^\?/, ''),
                paramObj = {};
              params = params.split('&');
              for (var i = 0; i < params.length; i++) {
                var t = params[i].split('=');
                paramObj[t[0]] = t[1];
              }
              if (!loc) {
                this.params = paramObj;
              } else {
                return paramObj[key] || '';
              }
            }
            return this.params[key] || '';
          };
        // If there are article links...
        if (sfs_articles.length > 0) {
          // Loop through sfs article links
          // Need to get: sessionid, cc-lc, productNumber/NULL, documentID, serial, clientID
          for (i = 0; i < sfs_articles.length; i++) {
            var result = '',
              curLink = sfs_articles[i].toString();
            curLinkSearch = curLink.split('?')[1];
            // Get the sessionId
            var sessionid = getQueryParam('sessionId', curLinkSearch);
            // Get cc and lc
            var cc = getQueryParam('cc', curLinkSearch);
            var lc = getQueryParam('lc', curLinkSearch);
            // Get productNumber (default to string 'NULL' if no value)
            var productNumber = getQueryParam('productNumber', curLinkSearch);
            if (productNumber.length === 0) {
              productNumber = 'NULL';
            }
            // Get document ID
            var documentID = curLink.match(/document\/[a-zA-Z0-9]+/);
            documentID = documentID.toString().split('/')[1];
            // Get serialNumber
            var serial = getQueryParam('serialNumber', curLinkSearch);
            // Get client ID
            var clientid = getQueryParam('client', curLinkSearch);
            // Compile result for current link
            result = 'sid=' + sessionid + ':cc-lc=' + cc + '-' + lc + ':p=' + productNumber + ':d=' + documentID + ':sr=' + serial + ':c=' + clientid;
            // Push to array for further processing
            sfs_arr.push(result);
          }
          // Concat sfs results into a pipe delimited string for the listvar
          for (i = 0; i < sfs_arr.length; i++) {
            sfs = Bootstrapper.CustomUtils.do_concat(sfs_arr[i], sfs, ',');
          }
          // Do impression tracking, and bind to click event on links to solution documents
          if (Bootstrapper.sfs_imp_tracked === false) {
            // Do SC request
            ess.linkTrackVars = 'prop43';
            ess.prop43 = sfs;
            ess.tl(true, 'o', 'imp_sfs');
            clearSC_light(['prop43']);
            // Update indicator to prevent dupes
            Bootstrapper.sfs_imp_tracked = true;
            // For SFS click tracking
            $('#dvPotentialSolutions a').on('click', function() {
              var hrefToUse = this.href.split('?')[1],
                index = $('#dvPotentialSolutions a').index(this);
              result = sfs_arr[index];
              //
              ess.linkTrackVars = 'events,eVar41';
              ess.linkTrackEvents = 'event102';
              ess.events = 'event102';
              ess.eVar41 = result;
              ess.tl(this, 'o', 'sfs_click');
              clearSC_light(['eVar41', 'events']);
            });
          }
        }
      }, 2000);
    });
    // Case for when the SFS yields no documents
    Bootstrapper.ajaxListener.create(function() {
      return $('#noSolutionsFound') || [];
    }, function(n) {
      // Do SC request if no solutions found
      setTimeout(function() {
        // 1. Make sure Find Solutions button is not visible
        if ($('#solutionFinder').css('display') === 'none') {
          // 2. Make sure no SFS link is shown
          if ($('#dvPotentialSolutions a').length === 0) {
            ess.linkTrackVars = 'list3';
            ess.list3 = 'No document recommended:' + ess.prop58;
            ess.tl(true, 'o', 'imp_sfs');
            clearSC_light(['list3']);
          }
        }
      }, 3000);
    });
  }

  // R3 - CS tile impression tracking and click tracking
  if (/contact-hp\/product\//.test(window.location.pathname) === true) {
    Bootstrapper.ajaxListener.create(function() {
      return window.globalDLTileData || [];
    }, function(n) {
      setTimeout(function() {
        if (Bootstrapper.tempStorage.counter1 !== 1) {
          var tiles = window.globalDLTileData,
            result = '';
          for (i = 0; i < tiles.length; i++) {
            var tile_placement = tiles[i].tilePlacement,
              tile_title = tiles[i].tileTitleId,
              tile_type = tiles[i].tileType,
              combined = 'Tiles: ' + tile_placement + '|' + tile_title + '|' + tile_type;
            result = Bootstrapper.CustomUtils.do_concat(combined, result, ',');
          }
          ess.linkTrackVars = 'list3';
          ess.list3 = result;
          ess.tl(true, 'o', 'cs_tiles_imp_tracking');
          Bootstrapper.CustomUtils.clearSC_light(['list3']);
          Bootstrapper.tempStorage.counter1 = 1;
          //
          // R3 - CS tile click tracking
          (function() {
            var result = '',
              tile_placement = '',
              tile_title = '',
              tile_type = '';
            $('#unassistedTiles a').mousedown(function() {
              var index = $('#unassistedTiles a').index(this);
              tile_placement = window.globalDLTileData[index].tilePlacement;
              tile_title = window.globalDLTileData[index].tileTitleId;
              tile_type = window.globalDLTileData[index].tileType;
              if (this.href.indexOf('document/') !== -1) {
                doc_id = this.href.split(/document\//)[1].match(/[0-9a-z]+/gi)[0];
                result = 'Tile: ' + tile_placement + '|' + tile_title + '|' + tile_type + '|' + doc_id;
              } else {
                result = 'Tile: ' + tile_placement + '|' + tile_title + '|' + tile_type;
              }
            });
            $('#unassistedTiles a').mouseup(function() {
              ess.linkTrackVars = 'eVar42';
              ess.eVar42 = result;
              ess.tl(this, 'o', 'cs_tile_clicks');
              Bootstrapper.CustomUtils.clearSC_light(['eVar42']);
            });
          }());
        }
      }, 1000);
    });
  }

  // R3 - SWD OS change tracking
  (function() {
    function getOS() {
      var os_platform = $('span#os-platform').html().toLowerCase(),
        os_ver = $('span#os-version').html().toLowerCase(),
        os = os_platform + ' ' + os_ver;
      return os;
    }

    function getOS_dd() {
      var os_platform = $('#platform_dd_headerValue').html().split(/</)[0].toLowerCase(),
        os_ver = $('#versionnew_dd_headerValue').html().split(/</)[0].toLowerCase(),
        os = os_platform + ' ' + os_ver;
      return os;
    }

    $('#os-heading1').click(function() {
      var os = getOS();
      window.sessionStorage.setItem('visitor_os_orig', os);
    });

    $('button#os-update').click(function() {
      var result = (window.sessionStorage.getItem('visitor_os_orig') || 'unknown') + ' | ' + (window.sessionStorage.getItem('visitor_os_new') || 'unknown');
      ess.linkTrackVars = 'prop42';
      ess.prop42 = result;
      ess.tl(true, 'o', 'os_update');
      clearSC_light(['prop42']);
    });

    $('#platformOs').click(function() {
      var prev_os = (typeof(window.sessionStorage.visitor_os_orig) !== 'undefined') ? window.sessionStorage.visitor_os_orig : 'unknown',
        new_os = getOS_dd();
      window.sessionStorage.setItem('visitor_os_new', new_os);
    });
  }());

  // 24 June 2015 - Tracking on search results page (matching articles - search query:docid). Updated 7/2017.
  (function() {
    //
    // Take copy of page data layer
    var gdl = window.globalDataLayer;
    // Misc. vars
    var cat = '';
    var prop36 = '';
    
    // Detect if search query is available in globalDataLayer
    var search_query = globalDataLayer.Search.Query || 'search_query_not_found';
    // Detect if SRP count is available
    var search_result_count = globalDataLayer.Search.Count;
    // Detect if search redirect indicator is available
    var search_redirected = globalDataLayer.Search.Redirect || 'search_redirect_not_found';
      search_redirected = search_redirected.toString();
    
    var getSearchCat = function() {
      cat = window.sessionStorage.getItem('srch_cat');
      switch (cat) {
        case '0':
          cat = 'all support:';
          break;
        case '1':
          cat = 'softwaresdrivers:';
          break;
        case '2':
          cat = 'troubleshooting:';
          break;
        case '3':
          cat = 'howto:';
          break;
        case '4':
          cat = 'productinfo:';
          break;
        case '5':
          cat = 'userguide:';
          break;
        default:
          cat = 'search all support:';
      }
      return cat;
    };
    //
    /* Deprecated Feb 2018 in favor of data layer source for search query
    var sq_raw = (function() {
      // --------------------------------------------------------------------- //
      // SRP and all other pages
      if (search_redirected == 'false') {
        if(search_result_count > 0) {
          //
          //console.log('SRP detected - Results found');
          //
            var searchInstead = false;
          // Try wrapper
          try {
            // Get search cateogry for cases where search originated from a PDP
            cat = getSearchCat();

            // Look for "Search instead for..." shown on page
            if (document.querySelectorAll('p.search-error').length > 0) {
              searchInstead = true;
            }

            // Assemble prop36
            prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
            
            //
            //console.log(prop36);
            //
            // Final return
            return prop36.toLowerCase();
          } // End try wrapper
          catch (e) {
            console.log('Error - ' + e.message);
          }
        }
      }
    }());
    */
    // Feb 2018 - OK for MTP1
    if (/\/search/.test(window.location.pathname) === true) {
      //
      //console.log('SQR_1: ' + sq_raw);
      //
      Bootstrapper.tempStorage.srp_c38 = '';
      $('.searchSectionWrapper').on('mousedown', '#searchResultsWrapper a, #promoContainer a', function() {
        //if($(this).parent().attr('promotion-id') !== undefined) {
        if($(this).parents('[promotion-id]').length > 0) {
          // Determine if there are any search promos on the SRP, or if these are all organic results
          if(/[a-z0-9_+]/ig.test($(this).parent().attr('promotion-id')) === true) {
            // Promo result formatting: search query|promoID|documentID
            // Revised formatting July 2018: promoID|documentID|search query
            Bootstrapper.tempStorage.srp_c38 = $(this).parents('[promotion-id]').attr('promotion-id')+'|promotionResultsContainer|'+globalDataLayer.Search.Query;
          }
        }
        else {
          //if($(this).parent().attr('organic-search-id') !== undefined) {
          if($(this).parents('[organic-search-id]').length > 0) {
            // Organic result formatting: documentID|organicResultsContainer|search query
            // Revised formatting July 2018: promoID|documentID|search query
            Bootstrapper.tempStorage.srp_c38 = $(this).parents('[organic-search-id]').attr('organic-search-id')+'|organicResultsContainer|'+globalDataLayer.Search.Query;
          }
        }
      });
      //
      $('.searchSectionWrapper').on('click', '#searchResultsWrapper a, #promoContainer a', function() {
        try {
          var search_query = globalDataLayer.Search.Query;
          var docid = this.href.split('/document/')[1];
          if(docid == 'undefined'){
            docid = 'no_doc_id';
          }
          ess.events = 'event19';
          ess.linkTrackEvents = 'event19';
          ess.linkTrackVars = 'prop37,prop38,events';
          ess.prop37 = search_query + ':' + docid;
          ess.prop38 = Bootstrapper.tempStorage.srp_c38;
          ess.tl(this, 'o', 'search_result_match_click');
          clearSC_light(['prop37','prop38','events']);
          Bootstrapper.tempStorage.srp_c38 = '';
        } catch (e) {
          console.log(e.message);
        }
      });
    }
  }());

  // Banner clicks on bottom of select PDPs
  (function() {
    if (/\/product\/[a-z0-9-]+\/[0-9]+\/model\/[0-9]+/i.test(window.location.href) === true || /(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) === true) {

      $('#hpPromoPanel a').mousedown(function() {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = 'Banner|' + globalDataLayer.Locale + '|' + this.href;
        ess.tl(this, 'o', 'promo_panel_clicks');
        clearSC_light(['eVar37']);
      });
    } else {
      $('#hpPromoPanel a').mousedown(function() {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = 'Banner|' + globalDataLayer.Locale + '|' + this.href;
        ess.tl(this, 'o', 'banner_clicks');
        clearSC_light(['eVar37']);
      });
    }
  }());

  /*
  * R4 New Items (and some old ones moved here)
  * November 2015
  */

  // Items @ SiteHome
  if (/\/([a-z]{2}-[a-z]{2})(?!\/[a-z]+)/.test(window.location.pathname) === true) {
    // Track clicks of Site Home Tiles
    // eVar42 = SiteHome Tile [destination URL]
    $('#productGridBlocks a').click(function() {
      ess.linkTrackVars = 'eVar42';
      ess.eVar42 = 'SiteHome Tile|' + this.href || 'href undefined'
      ess.tl(this, 'o', 'SiteHome Tile Click');
      clearSC_light(['eVar42']);
    });

    // Alerts link tracking (moved to center of SiteHome)
    $('.AlertsClass a').click(function() {
      var docUrl = this.href,
        docUrlArr = docUrl.split('/');
      // This might need to be changed to -1 in the future if the document does not have a trailing slash...
      docUrl = docUrlArr[docUrlArr.length - 2];
      ess.linkTrackVars = 'prop35';
      ess.prop35 = globalDataLayer.Template + ':Alert:' + docUrl;
      ess.tl(this, 'o', globalDataLayer.Template + ':Alert:' + docUrl);
      clearSC_light(['prop35']);
    });

    /*
    //ALERT TRACKING
    $('.notification-body a').on("click", function() {
      ess.linkTrackVars = 'prop15';
      var _p15 = $(this).attr('href').split('/');
      ess.prop15 = 'supporthome-alert:' + _p15[_p15.length - 2];
      ess.tl(this, "o", 'supporthome-alert:' + _p15);
      clearSC_light(['prop15']);
    });
    */
  } // END conditional for SiteHome


  // Other support resources link clicks
  $('div.otherSupportHeading ~ div.addMrgn a').click(function() {
    ess.linkTrackEvents = 'event25';
    ess.linkTrackVars = 'events,eVar40';
    ess.eVar40 = 'OtherSupportResources|' + window.globalDataLayer.Template + '|' + this.href;
    ess.events = 'event25';
    ess.tl(this, 'o', 'Other Support Resources Clicks');
  });

  // Items @ /us-en/products/change-product
  if (/\/products\/change-product/.test(window.location.pathname) === true) {
    // Track clicks on "Identify Now" button @ /us-en/products/change-product
    $('#dmdIdentifyProduct').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'changeproduct:Identify Now';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    /*
    // Track clicks on "Find Product" button @ /us-en/products/change-product 
    $('body').on('click','#btnSplitSearchSubmit',function() {
      if($(this).attr('disabled') !== "disabled") {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = globalDataLayer.Template+' | FindMyProduct';
        ess.tl(true, 'o', ess.eVar37);
        clearSC_light(['eVar37']);
      }
    });
    */
  }

  // Track clicks on "Check Now" @ on SWD pages
  if (/\/drivers\/selfservice\//.test(window.location.pathname) === true) {
    $('#swdStepCheckNow').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'swddl:CheckNow';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }

  // Items @ /checkwarranty/
  if (/\/checkwarranty$/.test(window.location.pathname) === true) {
    // Track clicks on "Identify Now" button
    $('#btnWarrantyCheck').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'warrantylanding:Identify Now';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Track clicks on "Check Warranty" button
    $("#btnWFormSubmit").on("mousedown", function() {
      var template = window.globalDataLayer.Template;
      if ($(this).attr('disabled') !== "disabled") {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = template+' | CheckWarranty';
        ess.tl(true, 'o', ess.eVar37);
        clearSC_light(['eVar37']);
        //$("#product").submit();
      }
    });
  }

  // Items @ /unknownwarranty
  if (/\/unknownwarranty/.test(window.location.pathname) === true) {
    // Track clicks on "Scan my product"
    $('#btnUnknownWarrantyDMD').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'uwresults:scan my product';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Track clicks on "Check again"
    $("#btnWFormSubmit").on("click", function() {
      if ($(this).attr('disabled') !== "disabled") {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = 'uwresults:Check again';
        ess.tl(true, 'o', ess.eVar37);
        clearSC_light(['eVar37']);
        //$("#product").submit();
      }
    });
  }

  // Items @ /warrantyresult
  if (/\/warrantyresult\//.test(window.location.pathname) === true) {
    // Track clicks on "Check another product"
    $('#check_another_product').click(function() {
      var template = globalDataLayer.Template,
        prefix = '';
      switch (template) {
        case 'OOWResults':
          prefix = 'oowresults';
          break;
        case 'IWResults':
          prefix = 'iwresults';
          break;
        case 'XWResults':
          prefix = 'xwresults';
          break;
      }
      //
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = prefix + ':Check another product';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Track clicks on "Support options for your product"
    $('body').on('click', '#warrantySupportOptions a', function() {
      ess.linkTrackVars = 'eVar40,events';
      ess.linkTrackEvents = 'event25';
      ess.eVar40 = 'MoreSupportOptions|' + globalDataLayer.Template + '|' + this.href;
      ess.events = 'event25';
      ess.tl(this, 'o', ess.eVar40);
      clearSC_light(['eVar40', 'events']);
    });

    // Track clicks on Dispute warranty status link
    $('body').on('click', '#warrantyBlwTxt a:first', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'disputewarrantyform:dispute warranty';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Track clicks on Extend Warranty link
    $('body').on('click', '#extendWarranty', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'iwresults:extend your warranty';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Extend Warranty
    $('body').on('click', '#baseWarrantyExtendWarrantyButton', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'WarrantyResults:ExtendWarranty';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Check another product
    $('body').on('click', '#extendedWarranty', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'WarrantyResults:CheckAnotherProduct';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  } // END Items @ /warrantyresult

  if (/\/product\/[a-z0-9-]+\/[0-9]+\/model\/[0-9]+/i.test(window.location.href) === true || /(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) === true) {
    // Track clicks on SWD > GO button
    $('#btnSwindex').click(function() {
      var template = window.globalDataLayer.Template;
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = template+' | Go';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  } // END PDP conditional for R4 items

  // Items @ /document
  if (/\/document\//.test(window.location.pathname) === true) {
    // Set default state for IE10 and older!
    $('a.heading[data-scroll="true"]').attr('aria-expanded', 'false');
    /* // This section deprecated October 2019 - Replaced with newer code in Document page specific tag
    // Click tracking on expandable content on articles
    $('a.heading[data-scroll="true"]').mousedown(function() {
      // Put the indicators in a temporary location
      Bootstrapper.tempStorage = Bootstrapper.tempStorage || {};
      // Get index of current clicked checkbox
      Bootstrapper.tempStorage.expDocIndex = $('a.heading[data-scroll="true"]').index(this);
      // IE10 and older needs this silly delay...
      setTimeout(function() {
        // Our indicators
        Bootstrapper.tempStorage.c44 = $('a.heading[data-scroll="true"]:eq(' + Bootstrapper.tempStorage.expDocIndex + ')').html();
        Bootstrapper.tempStorage.expanded = $('a.heading[data-scroll="true"]:eq(' + Bootstrapper.tempStorage.expDocIndex + ')').attr('aria-expanded');
        Bootstrapper.tempStorage.docid = window.location.pathname.match(/c0[0-9]+/)[0];
        //
        //console.log('expanded is: '+Bootstrapper.tempStorage.expanded);
        //
        if (Bootstrapper.tempStorage.expanded == 'true') {
          ess.linkTrackVars = 'prop44';
          ess.prop44 = Bootstrapper.tempStorage.docid + ' | ' + Bootstrapper.tempStorage.c44;
          ess.tl(true, 'o', 'Document expandable content');
          clearSC_light(['prop44']);
        }
      }, 1000);
    });
    */
  } //  END conditional for /document/ pages

  // Items @ /products/
  if (/\/products\//.test(window.location.pathname) === true) {
    // Track clicks on products, down in the drilldown right before it leads to the PDP
    Bootstrapper.ajaxListener.create(function() {
      // 1. The thing that ajaxListener will poll for
      //return document.querySelector('#myElementHere') || [];
      return document.querySelector('#pDrillLevel2 li') || [];
    }, function(n) {
      // 2. Code that will execute when #myElementHere is found in the DOM
      $('span[id*="pDrillLevel2Element"]').click(function() {
        // Do the click tracking
        ess.linkTrackVars = 'eVar46,prop3,prop46';
        ess.prop46 = $(this).html();
        ess.eVar46 = window.globalDataLayer.Template;
        ess.prop3 = window.globalDataLayer.Template;
        ess.tl(true, 'o', 'Product category clicks');
        clearSC_light(['prop46,eVar46']);
      });
    });

    Bootstrapper.ajaxListener.create(function() {
      // 1. The thing that ajaxListener will poll for
      //return document.querySelector('#myElementHere') || [];
      return document.querySelector('li.product') || [];
    }, function(n) {
      // 2. Code that will execute when #myElementHere is found in the DOM
      $('li.product a').click(function() {
        // Get the index of the clicked tile
        var clickedElmIndex = $('li.product a').index(this),
          // Get the corresponding product title
          clickedElmLabel = $('span[id="finalGrid_title' + clickedElmIndex + '"]').html();
        // Do the click tracking
        ess.linkTrackVars = 'eVar46,prop3,prop46';
        ess.prop46 = clickedElmLabel;
        ess.eVar46 = window.globalDataLayer.Template;
        ess.prop3 = window.globalDataLayer.Template;
        ess.tl(true, 'o', 'Product category clicks');
        clearSC_light(['prop46,eVar46']);
      });
    });
  } // END conditional for /products/ pages

  // Items @/contact-hp
  if (/\/contact-hp\//.test(window.location.pathname) === true) {
    $('#osNotNow').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'Contacthp:Not now';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    $('#osCheckWarranty').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'Contacthp:check warranty';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    $(document.body).on('click','#submitLocation',null,function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+'|'+this.id;
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
  } // END conditional for /contact-hp pages

  // BEGIN conditional for /productreplacement pages
  if (/\/productreplacement/.test(window.location.pathname) === true) {
    // Track clicks on Confirm and Retry button
    $('#confirmBtn').click(function() {
      // Set default value of confirm
      Bootstrapper.tempStorage.confirmOrRetry = Bootstrapper.tempStorage.confirmOrRetry || 'confirm';
      // In case of validation error, set to 'retry'
      setTimeout(function() {
        Bootstrapper.tempStorage.confirmOrRetry = (!(/hide/.test($('#pnErrorMessage').attr('class'))) === true) ? 'retry' : Bootstrapper.tempStorage.confirmOrRetry;
      }, 1000);
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'productreplacement:' + Bootstrapper.tempStorage.confirmOrRetry;
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Track clicks on Submit button on step 200
    $('#btnrpShipInfoSubmit').click(function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'productreplacement:form_submit';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }
  // END conditional for /productreplacement pages

  // Banner tiles impression tracking - Bottom promo banner (Global)
  (function() {
    setTimeout(function() {
      var bannerTilesArray = $('#hpPromoPanel a'),
        result = '';
      if (bannerTilesArray.length > 0) {
        for (i = 0; i < bannerTilesArray.length; i++) {
          var curTileHref = bannerTilesArray[i].href,
            append = 'Banner|' + window.globalDataLayer.Locale + '|' + curTileHref;
          result = Bootstrapper.CustomUtils.do_concat(append, result, ',');
        }
        ess.linkTrackVars = 'list3';
        ess.list3 = result;
        ess.tl(true, 'o', 'bannerTilesImp');
        Bootstrapper.CustomUtils.clearSC_light(['list3']);
      }
    }, 1000);
  }())
  // End impression tracking

  // Nov 2016 - PDP items
  if (/\/product\/[a-z0-9-]+\/[0-9]+\/model\/[0-9]+/i.test(window.location.href) === true || /(\/product\/[a-z0-9-%]+\/[a-z0-9-%]+)($|\/|#|\?)(?!model)/i.test(window.location.href) === true) {

    // Check Warranty Status clicks
    $('body').on('click', '#prodInfoWarrantyInfo a[id*="ChkWarranty"]', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'PDP:CheckWarrantyStatus';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });

    // Check Warranty button clicks (in modal, after above item)
    $('body').on('click', '#btnWFormSubmit', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'PDP:CheckWarrantyButton';
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }

  /* On hold - Need to use data layer, instead of parsing page content...
  // Nov 2016 - Contact HP - Contact Options Clicks
  if (/\/contact-hp\//.test(window.location.pathname) === true) {
    $('body').on('mousedown', '#contactOptionsWrap div.contactOption:not([class*="hide"]) div.contactOptions_text a', function() {
      var chatOption = $(this).siblings('h2,h3');
      var getChatOption = function() {
        try {
          chatOption = chatOption[0].innerHTML.toLowerCase();
          chatOption = chatOption.replace(/\s/g,'_');
          return chatOption;
        } catch (e) {
          return 'chatOptionParseError';
        }
      };
      //
      ess.linkTrackVars = 'eVar44';
      ess.eVar44 = 'contact-hp:' + getChatOption();
      ess.tl(this, 'o', ess.eVar44);
      clearSC_light(['eVar44']);
    });
  }
  */

  // Nov 2016 - Download details > Download file clicks
  if (/\/drivers\/selfservice\/swdetails\//.test(window.location.pathname) === true) {
    $('body').on('mouseup', '#productDescriptionTbl a.hpdiaButton', function() {
      ess.linkTrackVars = 'events,eVar73';
      ess.linkTrackEvents = 'event91';
      ess.events = 'event91';
      ess.eVar73 = this.href;
      ess.tl(this, 'o', 'swd_download_click');
      clearSC_light(['eVar73', 'events']);
    });
  }

  // April 2017 items //
  // ------------------ //

  // /contact-hp > Get Started button clicks
  if(/\/contact-hp\/?$/.test(window.location.pathname) === true) {
    //var template = window.globalDataLayer.Template;
    /*
    $('body').on('click', '#btnContctHPLanding', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = template+' | GetStarted';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
    */
    
    /*
    // Capture search button clicks
    $('body').on('click', '#btnSplitSearchSubmit', function() {
      if($(this).attr('disabled') !== "disabled") {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = globalDataLayer.Template+' | FindMyProduct';
        ess.tl(true, 'o', ess.eVar37);
        clearSC_light(['eVar37']);
      }
    });
    */
  }

  // /contact-hp/identify/noresults OR /drivers/selfservice/identify/noresults > Find button clicks
  if(/(\/contact-hp\/identify\/noresults|\/drivers\/selfservice\/identify\/noresults)/.test(window.location.pathname) === true) {
    /*
    var template = window.globalDataLayer.Template;
    // 1. Capture search button clicks
    $('body').on('click', '#btnSplitSearchSubmit', function() {
      if($(this).attr('disabled') !== "disabled") {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = template+' | FindMyProduct';
        ess.tl(true, 'o', ess.eVar37);
        clearSC_light(['eVar37']);
      }
    });
    */
    
    // 2. Capture result dropdown clicks
    $('body').on('click', 'ul.search-predictive-results-pfinder a', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | FindMyProduct';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
    
    // 3. Capture enter button press
    /*
    $('body').on('keyup',function(event) {
      if(event.which === 13) {
        if($('#search-input-pfinder:focus').length > 0) {
          ess.linkTrackVars = 'eVar37';
          ess.eVar37 = globalDataLayer.Template+' | FindMyProduct';
          ess.tl(true, 'o', ess.eVar37);
          clearSC_light(['eVar37']);
        }
      }
    });
    */
  }

  // /checkwarranty > Check multiple warranties clicks
  if(/\/checkwarranty/.test(window.location.pathname) === true) {
    var template = window.globalDataLayer.Template;
    $('body').on('click', '#multipleLink', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = template+' | CheckMultipleWarranties';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });  
  }

  // /checkwarranty/multipleproducts > Submit clicks
  if(/\/checkwarranty\/multipleproducts/.test(window.location.pathname) === true) {
    var template = window.globalDataLayer.Template;
    $('body').on('click', '#btnWFormSubmit', function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = template+' | Submit';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });  
  }
  /*
  // Global > SecNav > Forums
  var template = window.globalDataLayer.Template;
  $('body').on('mousedown', '.dropdown-menu a[href="http://h30434.www3.hp.com/"]', function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = template+' | SecNav - Forums';
    ess.tl(true, 'o', ess.eVar37);
    clearSC_light(['eVar37']);
  });
  */
  // Software/Drivers > Guided Learn More link clicks
  if(/(SWDSeriesDownload|SWDDownload)/.test(window.globalDataLayer.Template) === true) {
    $('body').on('click','#swdHPSASection a',function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = 'LearnMore|'+window.globalDataLayer.Locale+'|'+this.href;
      ess.tl(this, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }

  // SiteHome tile/tab tracking
  Bootstrapper.bindDOMParsed(function() {
    try {
      // Loop through each tab cateogry
      for(i in globalDataLayer.homePageTabs) {
        (function() {
          var curCat = globalDataLayer.homePageTabs[i].tabName;
          var curCatIndex = globalDataLayer.homePageTabs[i].tabPlacement;
          // Loop through each link within a category
          for(a in globalDataLayer.homePageTabs[i].tabTilesArrayDesktop) {
            (function() {
              var curLinkDescription = globalDataLayer.homePageTabs[i].tabTilesArrayDesktop[a].tabname;
              var curLinkHref = globalDataLayer.homePageTabs[i].tabTilesArrayDesktop[a].linkRedirect;
              // Bind to the mousedown event on the link
              $('body').on('mousedown','#wcmTabsPanel-'+curCatIndex+' a[href="'+curLinkHref+'"]',function() {
                var eVar42Formatted = 'SiteHomeTabs|'+curCat+'|'+curLinkDescription;
                //
                var ess = window.ess;
                ess.linkTrackVars = 'eVar42';
                ess.eVar42 = eVar42Formatted;
                ess.tl(true, 'o', ess.eVar42);
                clearSC_light(['eVar42']);
              });
            })();
          }     
        })();
      }  
    }
    catch(e) {
      //console.log(e.message);
    }
  });

  // Contact support > Other Support Options > link clicks
  $('body').on('mousedown','#dvSupportOptions a',function() {
    ess.events = 'event25';
    ess.linkTrackEvents = 'event25';
    ess.linkTrackVars = 'eVar40,events';
    ess.eVar40 = 'OtherSupportResources|'+window.globalDataLayer.Template+'|'+this.href
    ess.tl(true, 'o', ess.eVar40);
    clearSC_light(['eVar40','events']);
  });

  // PDP Articles > Clear Filters clicks
  $('body').on('click','#support_Content_Navigation a.clearFilters',function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = window.globalDataLayer.Template+' | Content Navigation - Clear Filters';
    ess.tl(true, 'o', ess.eVar37);
    clearSC_light(['eVar37']);
  });

  // Alerts
  $('body').on('mousedown','div[class="notification-body"] a',function() {
    var docID;
    // Parse out docID
    var linkPartsArr = this.href.split('/');
    // Get last part and strip out trailing slash
    // Examine the last entry in the array
    var linkPartsArrLast = linkPartsArr[linkPartsArr.length-1];
    // The docID did not have a trailing slash
    if(linkPartsArrLast.length > 0) {
      docID = linkPartsArr[linkPartsArr.length-1];
    }
    // The docID did have a trailing slash, so format accordingly
    else {
      docID = linkPartsArr[linkPartsArr.length-2].replace('\/','');
    }
    //
    ess.linkTrackVars = 'prop35';
    ess.prop35 = 'Alert | '+window.globalDataLayer.Template+' | '+docID;
    ess.tl(this, "o", ess.prop35);
    clearSC_light(['prop35']);
  });

  // Sept 2017 items for Contact Support
  if(/\/contact-hp\/product\//.test(window.location.pathname) === true) {
    // 1. Contact Support > Show Options clicks
    // https://uat.support.hp.com/us-en/contact-hp/product/HP-ENVY-4500-e-All-in-One-Printer-series/5304875
    $('body').on('mousedown','#frmCheckEntitlement #btnWShowOptions',function() {
      ess.linkTrackVars = 'eVar44';
      ess.eVar44 = window.globalDataLayer.Template + ' | Show Options';
      ess.tl(true,'o',ess.eVar44);
      clearSC_light(['eVar44']);
    });

    // 2. Contact Support > Track clicks on support options
    // https://uat.support.hp.com/us-en/contact-hp/product/HP-Pavilion-550-100-Desktop-PC-series/8499648/model/8877180?sku=N0A97AA
    // Edited Aug 2018 to bind to updated wrapper element. Old ID was "contactOptionsWrap"
    $('body').on('mousedown','#contactOptionsEntitlement a',function() {
      var elmIdentifier = this.id || $(this).text() || '';
      ess.linkTrackVars = 'eVar44,prop24';
      ess.prop24 = window.globalDataLayer.Template + ' | ' + elmIdentifier;
      ess.eVar44 = ess.prop24;
      if(globalDataLayer) {
        if(globalDataLayer.Product) {
          if(globalDataLayer.Product.productLineCode) {
            ess.prop24 = ess.prop24 + ' | ' + globalDataLayer.Product.productLineCode;
            ess.eVar44 = ess.prop24;
          }
        }
      }
      ess.tl(true,'o',ess.prop24);
      clearSC_light(['eVar44','prop24']);
    });
    
    // 4. Capture Form Submits after a contact option is opened
    $("body").on("click","button[aria-label='Submit']",function() {
      if(typeof($(this).prev('#multipleWarrantyFormPlaceholder ') === 'object')) {
        if($(this).prev('#multipleWarrantyFormPlaceholder ')['prevObject'].length > 0) {
          var elmIdentifier = this.id || '';
          if(elmIdentifier.length > 1) {
            elmIdentifier = ' | '+elmIdentifier;
          }
          ess.linkTrackVars = 'eVar44';
          ess.eVar44 = window.globalDataLayer.Template + elmIdentifier;
          ess.tl(this,'o',ess.eVar44);
          clearSC_light(['eVar44']);
        }
      }
    });
  }

  // Portal 17.6 items (Oct 2017)
  // ----------------------------------- //

  //1. Global Sign In, Sign Out, My Account clicks
  $('body').on('mousedown','#signInHeaderLink,#registerHeaderLink,#signOutLinkMob,#editProfileLinkMob,#landingPageSignIn,#landingPageRegister,#btnContctHPLanding,#bannerRegisterLink,#bannerSignInLink,#continueAsGuest',function() {
    var v37 = '';
    //
    switch(this.id) {
      case 'signInHeaderLink':
        v37 = 'Header-SignIn';
        break;
      case 'landingPageSignIn':
        v37 = 'Ribbon-SignIn';
        break;
      case 'bannerSignInLink':
        v37 = 'Hero-SignIn';
        break;
      case 'btnContctHPLanding':
        v37 = 'ContactHP-SignIn';
        break;
      case 'registerHeaderLink':
        v37 = 'Header-Register';
        break;
      case 'landingPageRegister':
        v37 = 'Ribbon-Register';
        break;
      case 'bannerRegisterLink':
        v37 = 'Hero-Register';
        break;
      case 'continueAsGuest':
        v37 = 'ContactHP-ContinueAsGuest';
        break;
      case 'signOutLinkMob':
        v37 = 'Header-SignOut';
        break;
      case 'editProfileLinkMob':
        v37 = 'Header-MyAccount';
        break;
    }
    //
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template+'|'+v37;
    ess.tl(this,'o',ess.eVar37);
    clearSC_light(['eVar37']);
  });

  $('body').on('mousedown','a[onclick="redirectToHPSALogin()"]',function() {
    // Check to make sure these elements don't have an id attribute, so we prevent duplicate tracking with similar elements
    if(this.id == '') {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+'|Ribbon-SignIn';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    }
  });

  $('body').on('mousedown','a[data-target="#signin-register-modal"]',function() {
    // Check to make sure these elements don't have an id attribute, so we prevent duplicate tracking with similar elements
    if(this.id == '') {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+'|Ribbon-Register';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    }
  });

  // 4. After customer clicks on Register, capture clicks on Personal and Business
  $('body').on('mousedown','#btnCreatePersonalAC,#btnCreateBusinessAC',function() {
      var v37 = '';
      //
      switch(this.id) {
        case 'btnCreatePersonalAC':
          v37 = 'Register-Personal';
          break;
        case 'btnCreateBusinessAC':
          v37 = 'Register-Business';
          break;
      }
      //
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template+'|'+v37;
    ess.tl(this,'o',ess.eVar37);
    clearSC_light(['eVar37']);
  });

  // 5. Track clicks on Add a device on Site Home tabs and on dashboard template
  $('body').on('mousedown','#addDeviceBtn,#navigateToAddDevice',function() {
      var v37 = '';
      //
      switch(this.id) {
        case 'addDeviceBtn':
          v37 = 'AddaDevice';
          break;
        case 'navigateToAddDevice':
          v37 = 'AddaDevice';
          break;
      }
      //
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template+'|'+v37;
    ess.tl(this,'o',ess.eVar37);
    clearSC_light(['eVar37']);
  });

  // 6. Track clicks on "Go to My Dashboard"
  $('body').on('mousedown','#goToDashboardDesktop',function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template+'|GoToMyDashboard';
    ess.tl(this,'o',ess.eVar37);
    clearSC_light(['eVar37']);
  });

  // 7. Track clicks on Identify Now and Find on Product Category Page
  // Feb 2018 - OK for MTP1
  $('body').on('mousedown','button[id="detectNow"]',function() {
    //if(/ProductCategory/.test(globalDataLayer.Template) === true) {
      var v37 = '';
      //
      switch(this.id) {
        case 'detectNow':
          v37 = 'IdentifyNow';
          break;
      }
      //
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | '+v37;
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);    
    //}
  });

  // Global > FindMyProduct clicks
  $('body').on('mousedown','#btnSplitSearchSubmit',function() {
    if($(this).attr('disabled') !== "disabled") {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | FindMyProduct';
      ess.tl(true, 'o', ess.eVar37);
      clearSC_light(['eVar37']);
    }
  });

  // 7 Dec 2017 - Print Doctor page additions //
  if(/\/topic\/printscandoctor/.test(window.location.pathname) === true) {
    // Download button clicks
    $('body').on('mousedown','#downloadBtn',function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | downloadBtn';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
    
    // Yes and No button clicks
    $('body').on('mousedown','#yesBtn,#noBtn',function() {
      ess.linkTrackVars = 'eVar37,events';
      ess.linkTrackEvents = 'event91';
      ess.events = 'event91';
      ess.eVar37 = globalDataLayer.Template+' | '+this.id;
      ess.eVar73 = this.href;
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }

  // 7 Dec 2017 - SMS-IVR page additions //
  if(/\/topic\/hpcare-support-options/.test(window.location.pathname) === true) {
    $('body').on('mousedown','div.templateMainWrapper div.blue-banner-right a[href="http://www8.hp.com/in/en/support-drivers/contact-centers/consumer/south.html"]',function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | ServiceCenterLocator';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
    
    $('body').on('mousedown','div.templateMainWrapper div.blue-banner-right a[href="https://support.hp.com/in-en/products"]',function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | SupportAndTroubleshooting';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
    
    $('body').on('mousedown','div.templateMainWrapper div.blue-banner-right a[href="https://support.hp.com/in-en/document/c05195323"]',function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | GuidedSolutions';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
    
    $('body').on('mousedown','div.templateMainWrapper div.blue-banner-right a[href*="https://www.hpshopping.in/ink-toner.html?jumpid=va_mrw6f9g5ye&utm_source=CSS&utm_medium=Visual_IVR&utm_campaign=Inks"]',function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | HpInk';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
    
    $('body').on('mousedown','div.templateMainWrapper div.blue-banner-right a[href*="https://www.hpshopping.in/?jumpid=va_y75miswfvr&utm_source=CSS&utm_medium=Visual_IVR&utm_campaign=OLS"]',function() {
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | HpStore';
      ess.tl(this,'o',ess.eVar37);
      clearSC_light(['eVar37']);
    });
  }

  // Misc 2018 items //
  // --------------- //
  // Feb 2018 - For MTP2
  // Identify Now/DMD clicks on DMD retry
  $('body').on('click','#dmdRetryButtonResultsPage, #dmdRetryButtonTimeoutPage',function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template+' | ' + $(this).attr('id');
    ess.tl(true,'o',ess.eVar37);
    clearSC_light(['eVar37']);
  });

  // Feb 2018 - OK for MTP1
  // Service Center Locator clicks
  $('body').on('click','#Svc_Loc_Search',function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template+' | Svc_Loc_Search';
    ess.tl(true,'o',ess.eVar37);
    clearSC_light(['eVar37']);
  });

  // Feb 2018 - For MTP2
  // PDP Sign In/Register links
  $('body').on('click','#pdpSignIn,#pdpRegister',function() {
    ess.linkTrackVars = 'eVar37';
    ess.eVar37 = globalDataLayer.Template+' | '+$(this).attr('id');
    ess.tl(true,'o',ess.eVar37);
    clearSC_light(['eVar37']);
  });

  // Feb 2018 - For MTP2
  // Drivers > Expand All/Collapse All clicks
  if(/\/drivers/.test(location.pathname) === true) {
    $('body').on('click','a.acc-ex-all,a.acc-coll-all',function() {
      var evar37 = '';
      if(/acc-ex-all/.test($(this).attr('class')) === true) {
        evar37 = 'Expand All';
      }
      else if(/acc-coll-all/.test($(this).attr('class')) === true) {
        evar37 = 'Collapse All';
      }
      ess.linkTrackVars = 'eVar37';
      ess.eVar37 = globalDataLayer.Template+' | '+evar37;
      if(evar37.length > 1) {
        ess.tl(true,'o',ess.eVar37);
      }
      clearSC_light(['eVar37']);
    });
  };

  /* Feb 2018 - For MTP3
  // Contact Support Options > Phone and Chat > Initiate contact
  $('body').on('mousedown','#InitiatePhoneSupport,#InitiateChatSupport',function() {
    ess.linkTrackVars = 'eVar44';
    ess.eVar44 = globalDataLayer.Template+' | '+$(this).attr('id');
    ess.tl(true,'o',ess.eVar44);
    ess.eVar44 = '';
  });
  */
  Bootstrapper.customStorage.allPages_bindClickEvents_old = true;
} // END: Bind Once

},4123502,[4124367], 248848,[613199]);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var result = 'null';
    if((window.globalDataLayer.Product.seriesOid.length > 1) || (window.globalDataLayer.Product.seriesName.length >1)) {
      result = window.globalDataLayer.Product.seriesOid+':'+window.globalDataLayer.Product.seriesName;
    }
    //
    //console.log('ENS EDL - support_series is: '+result);
    //
    return result;
  }
  catch(e) {
    console.log('ENS EDL Error: '+e.message);
    return '';
  }
},load: 'instance',trigger: Bootstrapper.data.bottomOfBodyTrigger,dataDefName: 'support_series_BoB',collection: 'support',source: 'Manage',priv: 'false'}, {id: '52161'} );},52161);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function anon() {
  var ua = navigator.userAgentData;
  var osVer = "Unknown"; // Declare osVer at the beginning with a default value

  try {
    if (navigator.userAgentData.platform === "Windows") {
      const majorPlatformVersion = parseInt(
        ua.platformVersion.split(".")[0],
        10
      );

      if (majorPlatformVersion >= 13) {
        console.log("Windows 11 or later");
        osVer = majorPlatformVersion;
      } else if (majorPlatformVersion > 0) {
        console.log("Windows 10");
        osVer = majorPlatformVersion;
      } else {
        console.log("Before Windows 10");
        console.log("MPV: ", majorPlatformVersion);
        osVer = majorPlatformVersion + " - Before Windows 10";
      }
    } else {
      osVer = "Not running on Windows";
    }
  } catch (e) {
    console.log("EDL Error: " + e.message);
  }

  return osVer; // Always return osVer at the end
},transform: function(val) {
	return val ? val : "";
},load: 'page',trigger: Bootstrapper.data.immediateTrigger,dataDefName: 'OS',collection: 'support',source: 'Manage',priv: 'false'}, {id: '66626'} );},66626);

},-1, -1);
	Bootstrapper.bindDependencyImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
// Utility for conditional exec of Adobe t and tl methods depending on visitor privacy consent settings
// Dependencies:
// * [Support] - [Analytics]: Adobe Basecode - Global

try {
  ess.tNew = function() { //define the s.t wrapper
    if (window.optin_performance_and_analytics === true) { //call the original s.t if not opted out. optin_performance_and_analytics is set in the "" tag.
      ess.tOrig.apply(ess, arguments);
    }
    else {
      //Bootstrapper.imageRequest('//nexus.ensighten.com/debug/msg.gif?msg=ess_t_blocked'); // For debugging - Remove before MTP.
    }
  };
  ess.tOrig = ess.t; //rename the original s.t function
  ess.t = ess.tNew; //redefine s.t to point to the wrapper function

  ess.tlNew = function() { //define the s.tl wrapper
    if (window.optin_performance_and_analytics === true) { //call the original s.tl if not opted out. optin_performance_and_analytics is set in the "" tag.
      ess.tlOrig.apply(ess, arguments);
    }
  };
  ess.tlOrig = ess.tl; //rename the original s.tl function
  ess.tl = ess.tlNew; //redefine s.tl to point to the wrapper function

  //---//
  
  if(!window.dataLayer) window.dataLayer = [];

  // Check to make sure we don't register to this event more than once in SPA scenarios
  Bootstrapper.hps_onoptin_registered = Bootstrapper.hps_onoptin_registered || false;

  if(!Bootstrapper.hps_onoptin_registered) {
    dataLayer.push({
      event: 'pb.onOptIn',
      callback: function() {
        try {
          //Bootstrapper.imageRequest('//nexus.ensighten.com/debug/msg.gif?msg=p_a_optin'); // For debugging - Remove before MTP.
          window.optin_performance_and_analytics = true;
          Bootstrapper.ensEvent.trigger('support_analytics_opt_in');
        }
        catch(e) {
          console.log(e.message);
        }
      },
      type: [1] // 1=Performance and analytics, 2=Personalization, 3=Targeting, 4=A/B testing, 5=Third party data sharing
    });
    Bootstrapper.hps_onoptin_registered = true;
  }
} catch (e) {
  console.log(e.message);
}

},4124368,[4124367], 633554,[613199]);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function anon() {
  var SPOS = globalDataLayer.SPOSOffers;

  if (SPOS) {
    let offer1 = SPOS.LeadOffer1?.OfferID || "N/A";
    let offer2 = SPOS.LeadOffer2?.OfferID || "N/A";
    let offer3 = SPOS.LeadOffer3?.OfferID || "N/A";
    let offer4 = SPOS.LeadOffer4?.OfferID || "N/A";

    return globalDataLayer.Template + 
      '|Offer1:' + offer1 + 
      '|Offer2:' + offer2 + 
      '|Offer3:' + offer3 + 
      '|Offer4:' + offer4;
  }
  return "SPOSOffers not available";
},transform: function(val) {
	return val;
},load: 'instance',trigger: Bootstrapper.data.immediateTrigger,dataDefName: 'SPOS Offers',collection: 'support',source: 'Manage',priv: 'false'}, {id: '67454'} );},67454);

},-1, -1);
	Bootstrapper.bindDependencyImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
// Find My Product - Adobe Tracking //
// -------------------------------- //

Bootstrapper.customStorage = Bootstrapper.customStorage || {};

// Bind once
if (!Bootstrapper.customStorage.allPages_bind_fmp_events) {
// Utils
function clearSC_light(vars) {
  try {
    for (i = 0; i < vars.length; i++) {
      ess[vars[i]] = '';
    }
  } catch (e) {
    //
  }
}

// Scenario 1 - Typeahead result dropdown clicks
$(document.body).on('mouseup', 'ul.search-predictive-results-pfinder a,app-product-finder #ngb-typeahead-1 button, app-product-finder #ngb-typeahead-2 button', function() {
  var pagesRgx = /SiteHome_New|Printer_Landing_New|Computer_Landing_New|ProductCategoryLanding|ContactHP-PrinterLanding|ContactHP-LaptopLanding|ContactHP-DesktopLanding|ContactHP-OtherProductsLanding|ContactHP-Productselection|SWD-PrinterLanding|SWD-LaptopLanding|SWD-DesktopLanding|SWD-OtherLanding/i;
  try {
    if (globalDataLayer) {
      if (globalDataLayer.Template) {
        if (pagesRgx.test(globalDataLayer.Template)) {
          ess.linkTrackVars = 'eVar37';
          ess.eVar37 = globalDataLayer.Template + ' | FindMyProduct';
          ess.tl(true, 'o', ess.eVar37);
          clearSC_light(['eVar37']);
        }
      }
    }
  } catch (e) {
    console.log('E: FMP - ' + e.message);
  }
});

// Scenario 2 - Enter keypress in search box
$('div.product-finder input').keypress(function(event) {
  try {
    if (event.which == 13) {
      if (globalDataLayer) {
        if (globalDataLayer.Template) {
          ess.linkTrackVars = 'eVar37';
          ess.eVar37 = globalDataLayer.Template + ' | FindMyProduct';
          ess.tl(true, 'o', ess.eVar37);
          clearSC_light(['eVar37']);
        }
      }
    }
  } catch (e) {
    console.log('E: FMP - ' + e.message);
  }
});

 // Scenario 2a - Enter keyup in Search Box
$('#inputtextpfinder').keyup(function(event) {
  try {
    if (event.keyCode === 13) {
     $("#FindMyProduct").click();
      if (globalDataLayer) {
        if (globalDataLayer.Template) {
          ess.linkTrackVars = 'eVar37';
          ess.eVar37 = globalDataLayer.Template + ' | FindMyProduct';
          ess.tl(true, 'o', ess.eVar37);
          clearSC_light(['eVar37']);
        }
      }
    }
  } catch (e) {
    console.log('E: FMP - ' + e.message);
  }
});

// Scenario 3 - Clicks on Submit button (See Tag: 595275)
//
Bootstrapper.customStorage.allPages_bind_fmp_events = true;
}

},4123342,[4124367], 642583,[613199]);
	Bootstrapper.bindDOMParsed(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
// Medallia Survey Submit Tracking - Adobe Analytics
// Tag Name: [Support] - [Analytics]: Adobe - Medallia Survey Submit Tracking

// Bind once
Bootstrapper.customStorage = Bootstrapper.customStorage || {};
if (!Bootstrapper.customStorage.allPages_bindMedalliaSurveySubmitEvent) {
  window.addEventListener('MDigital_Submit_Feedback', function(mdEvent) {
    try {
      ess.linkTrackVars = 'eVar57';
      ess.eVar57 = mdEvent.detail.Feedback_UUID;
      ess.registerPostTrackCallback(function() {
        ess.linkTrackVars = '';
        ess.eVar57 = '';
      });
      ess.tl(true, 'o', 'Medallia_Feedback_Submitted');
    } catch (e) {
      //
    }
  });
  Bootstrapper.customStorage.allPages_bindMedalliaSurveySubmitEvent = true;
}

},3683744, 702974);
	Bootstrapper.bindDependencyImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
// Pull date: 15 May 2018
// Tag dependencies: [Analytics] Metrics Utilities
// Tag timing: Immediate
// Note: This version is customized for the Adobe implementation on support.hp.com
/*
 * Set INAV metrics (if global header/footer navigation used to arrive at current page)
 */

Bootstrapper.customStorage = Bootstrapper.customStorage || {};

var
	inavCn='h_inavclk', //inav cookie name
	inavC=_A.cR(inavCn), //inav cookie value
	locale=_A.getHTMLtag('html','lang'), //locale from the html tag's lang attribute
	cc=_A.section.country||'??'; //country code from _A.section
if(inavC&&inavC!='-'){ //if the inav cookie is set to a non-empty value
  //ess.eVar68=unescape(inavC); //save unescaped inav cookie value in evar68
  //
  Bootstrapper.customStorage.eVar68 = unescape(inavC);
  //
  //ess.prop68='D=v68'; //use dynamic assignment syntax to copy to prop68
  //
  Bootstrapper.customStorage.prop68 = 'D=v68';
  //
  //ess.events=_A.addCS(ess.events,'event69',1); //add event69 to s.events
  //
  Bootstrapper.customStorage.events = 'event69';
  //
	if(!inavC.indexOf('home:')){ //if inav cookie value starts with "home:", replace "home:" with country and locale
		if(!_A.isO(_A.section))_A.section={}; //create empty _A.section object if needed
		if(!locale)locale=(_A.section.language||'??')+'-'+cc; //if locale not available from meta tag, set it from _A.section
		//ess.eVar13=cc //set eVar13 if inav was from a country home page
			//+':'+(_A.section.language||'??')
      //+':'+inavC.replace('home:','')
    //
    Bootstrapper.customStorage.eVar13 = cc //set eVar13 if inav was from a country home page
    +':'+(_A.section.language||'??')
    +':'+inavC.replace('home:','')
	}
}
_A.cD(inavCn,'.hp.com'); //delete inav cookie

/*
 * trackMetrics(callType,dataObj) - defined only for INAV global header/footer calls
 */
window.trackMetrics=function(callType,dataObj){
  if(callType=='global-inav'&&typeof dataObj.link_id=='string'){ //only process valid global inav trackMetrics calls
		_A.cW('h_inavclk',dataObj.link_id,0,'.hp.com') //write global inav cookie, named "h_inavclk"
	}else{
		console.log('trackMetrics(',callType,',',dataObj,') - UNKNOWN') //log unknown trackMetrics call
	}
}

},2490805,[3727818], 542110,[478039]);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var entResults = globalDataLayer.EntitlementResults.EntResults || '',
      productLineCode = globalDataLayer.Product.productLineCode || '',
      phConf = globalDataLayer.ContactHPPhone || '',
      chat = globalDataLayer.EntitlementResults.Chat || '',
      call_hp = globalDataLayer.EntitlementResults.Call_HP || '',
      result = '';
      // Assign to final format
      result = 'Warr:'+entResults+'|PL:'+productLineCode+'|PhConf:'+phConf+'|Chat:'+chat+'|Call_HP:'+call_hp;
      // Return result
      if(entResults.length == 0) {
        result = '';
      }
      return result;
  }
  catch(e) {
    console.log('ENS extractor error: '+e.message);
    return '';
  }
},transform: function(val) {
	return val ? val : "";
},load: 'instance',trigger: function(){
  return Bootstrapper.data.triggerPromise(function(){
    var result = null;
    if(typeof(window.globalDataLayer) !== 'undefined') {
      if(typeof(window.globalDataLayer.EntitlementResults) !== 'undefined') {
        if(typeof(window.globalDataLayer.EntitlementResults.EntResults) == 'string') {
          result = true;
        }
      }
    }
    return result;
}, null)},dataDefName: 'support_EntitlementResults_contactOptions',collection: 'support',source: 'Manage',priv: 'false'}, {id: '50682'} );},50682);

},-1, -1);
	Bootstrapper.bindDOMParsed(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
// Tag name: [Support] - [Analytics]: Adobe - Internal Search Tracking
// Internal Search ("Search our knowledge library") Box - Adobe Tracking //
// --------------------------------------------------------------------- //

Bootstrapper.customStorage = Bootstrapper.customStorage || {};

// Bind once
if (!Bootstrapper.customStorage.allPages_bind_int_search_tracking) {
  // Utils
  function clearSC_light(vars) {
    try {
      for (i = 0; i < vars.length; i++) {
        ess[vars[i]] = '';
      }
    } catch (e) {
      //
    }
  }

  // Scenario 1 - Typeahead result dropdown clicks
  $(document.body).on('mouseup', 'app-knowledge-search #ngb-typeahead-1 button, app-knowledge-search #ngb-typeahead-2 button', function() {
    /*
    var pagesRgx = /SiteHome_New|Printer_Landing_New|Computer_Landing_New|ProductCategoryLanding|ContactHP-PrinterLanding|ContactHP-LaptopLanding|ContactHP-DesktopLanding|ContactHP-OtherProductsLanding|SWD-PrinterLanding|SWD-LaptopLanding|SWD-DesktopLanding|SWD-OtherLanding/i;
    */
    try {
      if (globalDataLayer) {
        if (globalDataLayer.Template) {
          //if (pagesRgx.test(globalDataLayer.Template)) {
            ess.linkTrackVars = 'eVar37';
            ess.eVar37 = globalDataLayer.Template + ' | ' + $(this).attr('id');
            ess.tl(true, 'o', ess.eVar37);
            clearSC_light(['eVar37']);
          //}
        }
      }
    } catch (e) {
      console.log('E: Internal Search - ' + e.message);
    }
  });

  // Scenario 2 - Enter keypress in search box
  $('#oneboxtextsearch').keypress(function(event) {
    try {
      if (event.which == 13) {
        if (globalDataLayer) {
          if (globalDataLayer.Template) {
            ess.linkTrackVars = 'eVar37';
            ess.eVar37 = globalDataLayer.Template + ' | oneboxtextsearch';
            ess.tl(true, 'o', ess.eVar37);
            clearSC_light(['eVar37']);
          }
        }
      }
    } catch (e) {
      console.log('E: Internal Search - ' + e.message);
    }
  });

  // Scenario 3 - Clicks on Submit button (See Tag: 595275)
  //
  Bootstrapper.customStorage.allPages_bind_int_search_tracking = true;
}

},3685912, 709012);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var retVal = globalDataLayer.Dashboard.NoOfDevices.toString();
    if(retVal.length == 0) {
      retVal = 'null';
    }
    else {
      return globalDataLayer.Template + ' | ' + retVal;
    }
  } catch (e) {
    //console.log('ENS EDL Error: ' + e.message);
    return '';
  }
},transform: function(val) {
	return val ? val : "";
},load: 'instance',trigger: Bootstrapper.data.whenValueExistsTrigger,dataDefName: 'support_dashboard_numberOfDevices',collection: 'support',source: 'Manage',priv: 'false'}, {id: '51135'} );},51135);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var result = '';
    if(/\/document\//.test(location.href)) {
      if(globalDataLayer.Document) {
        result = globalDataLayer.Document.documentID || '';
      }
    }
    //
    //console.log('ENS EDL - support_series is: '+result);
    //
    return result;
  } catch (e) {
    console.log('ENS EDL Error: ' + e.message);
    return '';
  }
},transform: function(val) {
	return val ? val : "";
},load: 'page',trigger: Bootstrapper.data.bottomOfBodyTrigger,dataDefName: 'support_documentID',collection: 'support',source: 'Manage',priv: 'false'}, {id: '63626'} );},63626);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
	Bootstrapper.on('click', '.home-banner-full-width .slick-active img', function() {Bootstrapper.ensEvent.trigger('Home Page Banner Image Click Event', this);}, true);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.customStorage = Bootstrapper.customStorage || {};

try {
  if (!Bootstrapper.customStorage.I2R_click_events) {
    const elemsToTrack = [
      'a[id^="chatbotVA"]',
      'a[data-anr-id^="chatbotVA"]',
    ];

    // Use `querySelectorAll` to select elements
    const trackedElements = document.querySelectorAll(elemsToTrack.join(','));

    // Loop through elements and add event listeners
    for (const element of trackedElements) {
     if(/document/.test(location.href)) {
      element.addEventListener('mousedown', function() {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = globalDataLayer.Template + ' | ' + this.id;
        ess.tl(true, 'o', ess.eVar37);
      
        // Assuming clearSC_light is a custom function
        Bootstrapper.CustomUtils.clearSC_light(['eVar37', 'linkTrackVars']);
      });
     }
    }

    Bootstrapper.customStorage.I2R_click_events = true;
  }
} catch (e) {
  console.error(e.message); // Use console.error for error logging
}

},4076415, 771321);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  var retVal = window.globalDataLayer.customerState || '';
  return retVal;
},transform: function(val) {
	return val ? val : "";
},load: 'instance',trigger: function() {
  return Bootstrapper.data.triggerPromise(function() {
    var result = null;
    if (typeof window.globalDataLayer !== 'undefined') {
      if(typeof window.globalDataLayer.customerState !== 'undefined') {
        result = true;
      }
    }
    return result;
  }, null, 8000)
},dataDefName: 'Support - Customer State',collection: 'support',source: 'Manage',priv: 'false'}, {id: '49975'} );},49975);

},-1, -1);
		Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(['Service Unavailable Error'], function(){var ensEventContext = this; if (ensEventContext == window){ensEventContext = undefined;}var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.customStorage = Bootstrapper.customStorage || {};

var elemsToTrackOnClick = [
  "#cancelBtn",
  "#close-icon"
];

elemsToTrackOnClick = elemsToTrackOnClick.toString();

try {
 if(!Bootstrapper.customStorage.SUE_bindClickEvents){
      $(document.body).on('mousedown', elemsToTrackOnClick, null, function() {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = globalDataLayer.Template + '|' + this.id;
        ess.tl(this, 'o', ess.eVar37);
        Bootstrapper.CustomUtils.clearSC_light(['eVar37', 'linkTrackVars']);
      });

  Bootstrapper.customStorage.SUE_bindClickEvents = true;
 }
} catch (e) {
  _A.log(e.message);
}

})},3988221, 760510);	Bootstrapper.bindDependencyImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
new Image().src = "https://t.nc0.co/pc/demoretail/?client=hp&event=AA_base_start";
Bootstrapper.AF=function(){var g={data:{},_dataConfig:{},logHistory:[],debug:!0,dataObj:function(a){var b=a?[]:"";b.finalized=!1;b.type=a;return b},validateInput:function(a){if("object"!==typeof a||"number"!==typeof a.length)return this.log("Error, input must be type Array");/set|push|call|eval|finalize|join/.test(a[0])||this.log("Error, '"+a[0]+"' is not a valid command");return!0},storeData:function(a,b,d,c,e){e=this.getConfig(b,d,e);b=this.data[b][d];if(e.finalized)return this.log("Error, cannot modify finalized key '"+
d+"'"),b;if("undefined"!==typeof b&&e.multi)return"join"==a?b=b.concat(c):b.push(c),b;e.multi?(d=[c],"join"==a&&(d=[].concat(c))):d=c;return d},getConfig:function(a,b,d,c){a=this._dataConfig[a]||{};c={};return"undefined"==typeof a[b]?(c.multi=d,c.finalized=!1,c):a[b]},store:function(a,b,d,c,e){this.data[b]=this.data[b]||{};this.data[b][d]=this.storeData(a,b,d,c,e);return this.data[b][d]},parseCode:function(a){return((a||function(){})+"").replace(/^function\s*\(\s*\)\s*\{|\}$/g,"")},callFn:function(a,
b,d,c){if("function"==typeof a)if(d)"undefined"!=typeof window.execScript?window.execScript(this.parseCode(a)):eval.call(window,this.parseCode(a));else return a.apply(window,c);else if("function"==typeof this.data[a][b])if(d)"undefined"!=typeof window.execScript?window.execScript(this.parseCode(this.data[a][b])):eval.call(window,this.parseCode(this.data[a][b]));else return c="object"==typeof c&&"number"==typeof c.length?c:[],this.data[a][b].apply(this.data[a],c);else return this.log("Error, '"+b+
"' is not a function")},parse:function(a){if(this.validateInput(a)){a=Array.prototype.slice.call(a,0);var b=a.shift(),d=a.shift(),c=a.shift(),e=a[0];if(/set|push|join/.test(b))return this.store(b,d,c,e,/push|join/.test(b));if(/call|eval/.test(b))return this.callFn(d,c,"eval"==b,a);if("finalize"==b)return a=this._dataConfig[d]=this._dataConfig[d]||{},a=a[c]||{multi:!1},a.finalized=!0,this._dataConfig[d][c]=a}},log:function(a){this.logHistory.push(a);return this.debug&&"object"==typeof console?console.log(a)&&
!1:!1}};if("object"==typeof Bootstrapper.AF&&"[object Array]"!==Object.prototype.toString.call(Bootstrapper.AF))return Bootstrapper.AF;if("[object Array]"===Object.prototype.toString.call(Bootstrapper.AF))for(var h=Bootstrapper.AF,f=0;f<h.length;f++)g.parse(h[f]);return{push:function(a){return g.parse(a)}}}();Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.log=function(a){if(Bootstrapper._SC.logEnabled)try{console.log("AA App Log - "+a)}catch(f){}};Bootstrapper.AF.push(["set","SiteCatalyst","block",function(a){this.ignore=this.ignore||{};this.ignore[a]=1}]);
Bootstrapper.AF.push(["set","SiteCatalyst","exec",function(){if(!this.ar){Bootstrapper.AF.push(["push","SiteCatalyst","ar",!0]);for(var a=this.ns||[],f={},c=0;c<a.length;c++)f[a[c]]=1,Bootstrapper.AF.push(["set",a[c],"exec",function(a){return function(){var c=this.dl||[],b=this.DMFDelay||!1;Bootstrapper._SC.log("Delay for DMF: "+b);var f=function(c){if("object"!=typeof window[a])setTimeout.call(this,function(){f.call(this,c)},250);else{for(var g=["pre","post"],e=0;e<g.length;e++){var b=this[g[e]];
if("object"==typeof b)for(var k=0;k<b.length;k++){var d=b[k],h=window[a];if("object"==typeof d[0]&&d[0].length){do h=h[d[0].shift()];while(1<d[0].length);d[0]=d[0].shift()}if(d[1]&&"function"==typeof d[1])try{h[d[0]]=d[1].call(this,c)}catch(l){}else h[d[0]]=d[1]}}window[a].t();Bootstrapper.AF.push(["set",a,"getCallbacks",function(){return this.callback||[]}]);g=Bootstrapper.AF.push(["call",a,"getCallbacks"]);for(e=0;e<g.length;e++)"function"==typeof g[e]&&g[e].call(window)}},l=function(){Bootstrapper.data?
Bootstrapper.data.resolve.call(this,c,function(){for(var a={},b=0;b<c.length;b++)a[c[b]]=arguments[b];f.call(this,a)}):f.call(this,{})},m=this;b?Bootstrapper.bindDOMParsed(function(){l.call(m)}):l.call(this)}}(a[c])]);var a=0,b;for(b in f)this.ignore&&b in this.ignore||(a?setTimeout(function(a){return function(){Bootstrapper.AF.push(["call",a,"exec"])}}(b),250*a):Bootstrapper.AF.push(["call",b,"exec"]),a++)}}]);Bootstrapper.bindPageSpecificCompletion(function(){setTimeout(function(){Bootstrapper.AF.push(["call","SiteCatalyst","exec"])},250)});Bootstrapper.AF.push(['eval', function(){
var sName = 'ess';
window['AppMeasurement'] = AppMeasurement;
/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ===============

AppMeasurement for JavaScript version: 2.15.0
Copyright 1996-2016 Adobe, Inc. All Rights Reserved
More info available at http://www.adobe.com/marketing-cloud.html
*/
function AppMeasurement(r){var a=this;a.version="2.15.0";var k=window;k.s_c_in||(k.s_c_il=[],k.s_c_in=0);a._il=k.s_c_il;a._in=k.s_c_in;a._il[a._in]=a;k.s_c_in++;a._c="s_c";var q=k.AppMeasurement.ac;q||(q=null);var p=k,m,s;try{for(m=p.parent,s=p.location;m&&m.location&&s&&""+m.location!=""+s&&p.location&&""+m.location!=""+p.location&&m.location.host==s.host;)p=m,m=p.parent}catch(u){}a.D=function(a){try{console.log(a)}catch(b){}};a.Pa=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||
0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.Hb=function(){var c=k.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.Ha&&!/^[0-9.]+$/.test(c)&&
(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.Ha=0<d?c.substring(d):c}return a.Ha};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.Hb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?
(d=new Date,d.setTime(d.getTime()+1E3*g)):1===d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toUTCString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.Eb=function(){var c=a.Util.getIeVersion();"number"===typeof c&&10>c&&(a.unsupportedBrowser=!0,a.sb(a,function(){}))};a.sb=function(a,b){for(var d in a)a.hasOwnProperty(d)&&"function"===typeof a[d]&&(a[d]=b)};
a.M=[];a.fa=function(c,b,d){if(a.Ia)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,h=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ga)for(a.ga=1,d=0;d<h.length;d++)a.d.addEventListener(h[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.ga=0,a.delayReady())});f=1;e=0}else d||a.o("_d")&&(f=1);f&&(a.M.push({m:c,a:b,t:e}),a.ga||setTimeout(a.delayReady,
a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.o("_d")?b=1:a.za();0<a.M.length;){d=a.M.shift();if(b&&!d.t&&d.t>c){a.M.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Ia=1;a[d.m].apply(a,d.a);a.Ia=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.fa("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=
c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,h="";e=f="";if(a.lightProfileID)d=a.Q,(h=a.lightTrackVars)&&(h=","+h+","+a.ka.join(",")+",");else{d=a.g;if(a.pe||a.linkType)h=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(h=a[e].Yb,f=a[e].Xb));h&&(h=","+h+","+a.G.join(",")+",");f&&h&&(h+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!h||0<=h.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.q=function(c,
b,d,f,e){var g="",h,l,k,n,m=0;"contextData"==c&&(c="c");if(b){for(h in b)if(!(Object.prototype[h]||e&&h.substring(0,e.length)!=e)&&b[h]&&(!d||0<=d.indexOf(","+(f?f+".":"")+h+","))){k=!1;if(m)for(l=0;l<m.length;l++)h.substring(0,m[l].length)==m[l]&&(k=!0);if(!k&&(""==g&&(g+="&"+c+"."),l=b[h],e&&(h=h.substring(e.length)),0<h.length))if(k=h.indexOf("."),0<k)l=h.substring(0,k),k=(e?e:"")+l+".",m||(m=[]),m.push(k),g+=a.q(l,b,d,f,k);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==
f&&0>e.indexOf(".contextData."))switch(k=h.substring(0,4),n=h.substring(4),h){case "transactionID":h="xact";break;case "channel":h="ch";break;case "campaign":h="v0";break;default:a.Pa(n)&&("prop"==k?h="c"+n:"eVar"==k?h="v"+n:"list"==k?h="l"+n:"hier"==k&&(h="h"+n,l=l.substring(0,255)))}g+="&"+a.escape(h)+"="+a.escape(l)}}""!=g&&(g+="&."+c)}return g};a.usePostbacks=0;a.Kb=function(){var c="",b,d,f,e,g,h,l,k,n="",m="",p=e="",r=a.V();if(a.lightProfileID)b=a.Q,(n=a.lightTrackVars)&&(n=","+n+","+a.ka.join(",")+
",");else{b=a.g;if(a.pe||a.linkType)n=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].Yb,m=a[e].Xb));n&&(n=","+n+","+a.G.join(",")+",");m&&(m=","+m+",",n&&(n+=",events,"));a.events2&&(p+=(""!=p?",":"")+a.events2)}if(r&&a.xa()&&r.getCustomerIDs){e=q;if(g=r.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.q("cid",e))}a.AudienceManagement&&
a.AudienceManagement.isReady()&&(c+=a.q("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);h=e.substring(4);g||("events"==e&&p?(g=p,p=""):"marketingCloudOrgID"==e&&r&&a.X("ECID")&&(g=r.marketingCloudOrgID));if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case "customerPerspective":e="cp";break;case "marketingCloudOrgID":e="mcorgid";break;case "supplementalDataID":e="sdid";break;case "timestamp":e="ts";break;case "dynamicVariablePrefix":e=
"D";break;case "visitorID":e="vid";break;case "marketingCloudVisitorID":e="mid";break;case "analyticsVisitorID":e="aid";break;case "audienceManagerLocationHint":e="aamlh";break;case "audienceManagerBlob":e="aamb";break;case "authState":e="as";break;case "pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case "pageURLRest":e="-g";break;case "referrer":e="r";break;case "vmk":case "visitorMigrationKey":e="vmt";break;case "visitorMigrationServer":e="vmf";a.ssl&&
a.visitorMigrationServerSecure&&(g="");break;case "visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case "charSet":e="ce";break;case "visitorNamespace":e="ns";break;case "cookieDomainPeriods":e="cdp";break;case "cookieLifetime":e="cl";break;case "variableProvider":e="vvp";break;case "currencyCode":e="cc";break;case "channel":e="ch";break;case "transactionID":e="xact";break;case "campaign":e="v0";break;case "latitude":e="lat";break;case "longitude":e="lon";break;
case "resolution":e="s";break;case "colorDepth":e="c";break;case "javascriptVersion":e="j";break;case "javaEnabled":e="v";break;case "cookiesEnabled":e="k";break;case "browserWidth":e="bw";break;case "browserHeight":e="bh";break;case "connectionType":e="ct";break;case "homepage":e="hp";break;case "events":p&&(g+=(""!=g?",":"")+p);if(m)for(h=g.split(","),g="",f=0;f<h.length;f++)l=h[f],k=l.indexOf("="),0<=k&&(l=l.substring(0,k)),k=l.indexOf(":"),0<=k&&(l=l.substring(0,k)),0<=m.indexOf(","+l+",")&&(g+=
(g?",":"")+h[f]);break;case "events2":g="";break;case "contextData":c+=a.q("c",a[e],n,e);g="";break;case "lightProfileID":e="mtp";break;case "lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case "lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case "retrieveLightProfiles":e="mtsr";break;case "deleteLightProfiles":e="mtsd";break;case "retrieveLightData":a.retrieveLightProfiles&&(c+=a.q("mts",a[e],n,e));g="";break;default:a.Pa(h)&&("prop"==f?e="c"+h:"eVar"==f?e="v"+h:"list"==
f?e="l"+h:"hier"==f&&(e="h"+h,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}a.ja&&(c+="&lrt="+a.ja,a.ja=null);return c};a.C=function(a){var b=a.tagName;if("undefined"!=""+a.ec||"undefined"!=""+a.Tb&&"HTML"!=(""+a.Tb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.La=function(a){var b=k.location,
d=a.href?a.href:"",f,e,g;f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.N=function(c){var b=a.C(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+
f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.La(c),e)?{id:e.substring(0,100),type:g}:0};a.bc=function(c){for(var b=a.C(c),d=a.N(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.C(c),d=a.N(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.Sb=function(){var c,b,d=a.linkObject,
f=a.linkType,e=a.linkURL,g,h;a.la=1;d||(a.la=0,d=a.clickObject);if(d){c=a.C(d);for(b=a.N(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.C(d),b=a.N(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var l=d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.la=1;!e&&d&&(e=a.La(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,n=0,p;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(l=e.toLowerCase(),
g=l.indexOf("?"),h=l.indexOf("#"),0<=g?0<=h&&h<g&&(g=h):g=h,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),h=0;h<g.length;h++)(p=g[h])&&l.substring(l.length-(p.length+1))=="."+p&&(f="d");if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.Oa(l)&&(a.linkInternalFilters||(a.linkInternalFilters=k.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(h=
0;h<g.length;h++)p=g[h],0<=l.indexOf(p)&&(n=1);n?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),k.s_objectID&&(b.id=k.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+(e?"&pidt="+e:"")+"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.Lb=function(){var c=a.la,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||
f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.Ob()){var b={},d=0,e=a.nb(),g=e?e.split("&"):0,h,l,k,e=0;if(g)for(h=0;h<g.length;h++)l=g[h].split("="),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),b[l]=f;f=a.account.split(",");h={};for(k in a.contextData)k&&!Object.prototype[k]&&"a.activitymap."==k.substring(0,14)&&(h[k]=a.contextData[k],a.contextData[k]="");a.e=a.q("c",h)+
(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(l in b)if(!Object.prototype[l])for(k=0;k<f.length;k++)for(e&&(g=b[l].join(","),g==a.account&&(a.e+=("&"!=l.charAt(0)?"&":"")+l,b[l]=[],d=1)),h=0;h<b[l].length;h++)g=b[l][h],g==f[k]&&(e&&(a.e+="&u="+a.escape(g)+("&"!=l.charAt(0)?"&":"")+l+"&u=0"),b[l].splice(h,1),d=1);c||(d=1);if(d){e="";h=2;!c&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),h=1);for(l in b)!Object.prototype[l]&&0<h&&0<b[l].length&&(e+=(e?"&":"")+a.escape(b[l].join(","))+"="+a.escape(l),
h--);a.tb(e)}}}return c};a.nb=function(){if(a.useLinkTrackSessionStorage){if(a.Ca())return k.sessionStorage.getItem(a.R)}else return a.cookieRead(a.R)};a.Ca=function(){return k.sessionStorage?!0:!1};a.tb=function(c){a.useLinkTrackSessionStorage?a.Ca()&&k.sessionStorage.setItem(a.R,c):a.cookieWrite(a.R,c)};a.Mb=function(){if(!a.Wb){var c=new Date,b=p.location,d,f,e=f=d="",g="",h="",l="1.2",k=a.cookieWrite("s_cc","true",0)?"Y":"N",m="",q="";if(c.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",c=[],c.forEach))){l=
"1.6";f=0;d={};try{f=new Iterator(d),f.next&&(l="1.7",c.reduce&&(l="1.8",l.trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;h=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),m=a.b.cc(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),
q=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=l;a.javaEnabled=e;a.cookiesEnabled=k;a.browserWidth=g;a.browserHeight=h;a.connectionType=q;a.homepage=m;a.Wb=1}};a.S={};a.loadModule=function(c,b){var d=a.S[c];if(!d){d=k["AppMeasurement_Module_"+c]?new k["AppMeasurement_Module_"+c](a):{};a.S[c]=a[c]=d;d.ib=function(){return d.qb};d.ub=function(b){if(d.qb=b)a[c+"_onLoad"]=b,a.fa(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",
{get:d.ib,set:d.ub}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.fa(c+"_onLoad",[a,d],1)||b(a,d))};a.o=function(c){var b,d;for(b in a.S)if(!Object.prototype[b]&&(d=a.S[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Ob=function(){return a.ActivityMap&&a.ActivityMap._c?!0:!1};a.Pb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);
if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};a.T=function(c,b){var d,f,e,g,h,k,m;m={};for(d=0;2>d;d++)for(f=0<d?a.Da:a.g,e=0;e<f.length;e++)if(g=f[e],(h=c[g])||c["!"+g]){if(h&&!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(k in a[g])h[k]||(h[k]=a[g][k]);a[g]||(m["!"+g]=1);m[g]=a[g];a[g]=h}return m};a.$b=function(c){var b,d,f,e;for(b=0;2>b;b++)for(d=0<b?a.Da:a.g,f=0;f<d.length;f++)e=d[f],c[e]=a[e],c[e]||"prop"!==e.substring(0,4)&&
"eVar"!==e.substring(0,4)&&"hier"!==e.substring(0,4)&&"list"!==e.substring(0,4)&&"channel"!==e&&"events"!==e&&"eventList"!==e&&"products"!==e&&"productList"!==e&&"purchaseID"!==e&&"transactionID"!==e&&"state"!==e&&"zip"!==e&&"campaign"!==e&&"events2"!==e&&"latitude"!==e&&"longitude"!==e&&"ms_a"!==e&&"contextData"!==e&&"supplementalDataID"!==e&&"tnt"!==e&&"timestamp"!==e&&"abort"!==e&&"referrer"!==e||(c["!"+e]=1)};a.Gb=function(a){var b,d,f,e,g,h=0,k,m="",n="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),
0<d&&(k=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?h=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(h=",p,ei,"),h&&k)))){if((a=k.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=h.indexOf(","+e.substring(0,d)+",")?m+=(m?"&":"")+e:n+=(n?"&":"")+e;m&&n?k=m+"&"+n:n=""}d=
253-(k.length-n.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+k}return a};a.bb=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.ca=!1;a.J=!1;a.wb=function(){a.J=!0;a.H()};a.K=!1;a.U=!1;a.xb=function(c){a.marketingCloudVisitorID=c.MCMID;a.visitorOptedOut=
c.MCOPTOUT;a.analyticsVisitorID=c.MCAID;a.audienceManagerLocationHint=c.MCAAMLH;a.audienceManagerBlob=c.MCAAMB;a.K=!1;a.U=!0;a.H()};a.ab=function(c){a.maxDelay||(a.maxDelay=250);return a.o("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.aa=!1;a.I=!1;a.za=function(){a.I=!0;a.H()};a.isReadyToTrack=function(){var c=!0;if(!a.mb()||!a.lb())return!1;a.xa()||(c=!1);a.pb()||(c=!1);return c};a.mb=function(){a.ca||a.J||(a.bb(a.wb)?a.J=!0:a.ca=!0);return a.ca&&!a.J?!1:!0};a.lb=function(){var c=a.va();
if(c)if(a.ta||a.ba)if(a.ta){if(!c.isApproved(c.Categories.ANALYTICS))return!1}else return!1;else return c.fetchPermissions(a.rb,!0),a.ba=!0,!1;return!0};a.X=function(c){var b=a.va();return b&&!b.isApproved(b.Categories[c])?!1:!0};a.va=function(){return k.adobe&&k.adobe.optIn?k.adobe.optIn:null};a.xa=function(){var c=a.V();return c&&c.getVisitorValues&&(a.K||a.U||(a.K=!0,c.getVisitorValues(a.xb)),a.K&&!a.U)?!1:!0};a.V=function(){var c=a.visitor;c&&!c.isAllowed()&&(c=null);return c};a.pb=function(){a.aa||
a.I||(a.ab(a.za)?a.I=!0:a.aa=!0);return a.aa&&!a.I?!1:!0};a.ba=!1;a.rb=function(){a.ba=!1;a.ta=!0};a.l=q;a.r=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.Bb=c;f.Ab=b;f.yb=d;a.l==q&&(a.l=[]);a.l.push(f);0==a.r&&(a.r=setInterval(a.H,100))};a.H=function(){var c;if(a.isReadyToTrack()&&(a.vb(),a.l!=q))for(;0<a.l.length;)c=a.l.shift(),c.Ab.apply(c.Bb,c.yb)};a.vb=function(){a.r&&(clearInterval(a.r),a.r=0)};a.kb=function(c){var b,d=q;if(!a.isReadyToTrack()){d={};a.$b(d);if(c!=q)for(b in c)d[b]=
c[b];a.callbackWhenReadyToTrack(a,a.track,[d]);return!0}return!1};a.Ib=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),
g="t="+a.escape(f.getDate()+"/"+f.getMonth()+"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+" "+f.getDay()+" "+f.getTimezoneOffset()),h=a.V();a.o("_s");b&&a.T(b);a.kb(c)||(c&&(d=a.T(c,1)),a.Pb()&&!a.visitorOptedOut&&(a.wa()||(a.fid=a.Ib()),a.Sb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=k.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Za||(f=a.Util.getQueryParam("adobe_mc_ref",
null,null,!0),a.referrer=f||void 0===f?void 0===f?"":f:p.document.referrer),a.Za=1,a.referrer=a.Gb(a.referrer),a.o("_g")),a.Lb()&&!a.abort&&(h&&a.X("TARGET")&&!a.supplementalDataID&&h.getSupplementalDataID&&(a.supplementalDataID=h.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)),a.X("AAM")||(a.contextData["cm.ssf"]=1),a.Mb(),g+=a.Kb(),a.ob(e,g),a.o("_t"),a.referrer=""))));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=
a.linkType=k.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0;d&&a.T(d,1)};a.Ba=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Ba.push([c,b]):a.debugTracking&&a.D("DEBUG: Non function type passed to registerPreTrackCallback")};a.fb=function(c){a.ua(a.Ba,c)};a.Aa=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Aa.push([c,b]):a.debugTracking&&
a.D("DEBUG: Non function type passed to registerPostTrackCallback")};a.eb=function(c){a.ua(a.Aa,c)};a.ua=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1].slice();e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.D(g.message)}}};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.k=c,a.v=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=
d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.ob=function(c,b){var d=a.gb()+"/"+c+"?AQB=1&ndh=1&pf=1&"+(a.ya()?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+b+"&AQE=1";
a.fb(d);a.cb(d);a.W()};a.gb=function(){var c=a.hb();return"http"+(a.ssl?"s":"")+"://"+c+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(a.ya()?"10":"1")+"/JS-"+a.version+(a.Vb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")};a.ya=function(){return a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks};a.hb=function(){var c=a.dc,b=a.trackingServer;b?a.trackingServerSecure&&a.ssl&&(b=a.trackingServerSecure):(c=c?(""+c).toLowerCase():"d1","d1"==c?c="112":"d2"==c&&(c="122"),b=
a.jb()+"."+c+".2o7.net");return b};a.jb=function(){var c=a.visitorNamespace;c||(c=a.account.split(",")[0],c=c.replace(/[^0-9a-z]/gi,""));return c};a.Ya=/{(%?)(.*?)(%?)}/;a.Zb=RegExp(a.Ya.source,"g");a.Fb=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.Zb),e=0;e<f.length;++e){var g=f[e],h=g.match(a.Ya),k="";"%"==h[1]&&"timezone_offset"==h[2]?k=(new Date).getTimezoneOffset():"%"==h[1]&&
"timestampz"==h[2]&&(k=a.Jb());d.c=d.c.replace(g,a.escape(k))}}};a.Jb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.j(4,c.getFullYear())+"-"+a.j(2,c.getMonth()+1)+"-"+a.j(2,c.getDate())+"T"+a.j(2,c.getHours())+":"+a.j(2,c.getMinutes())+":"+a.j(2,c.getSeconds())+(0<c.getTimezoneOffset()?"-":"+")+a.j(2,b.getUTCHours())+":"+a.j(2,b.getUTCMinutes())};a.j=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.pa={};a.doPostbacks=function(c){if("object"==typeof c)if(a.Fb(c),
"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.pa[d.id]=new Image,a.pa[d.id].alt="",a.pa[d.id].src=d.c)}};a.cb=function(c){a.i||a.Nb();a.i.push(c);a.ia=
a.B();a.Wa()};a.Nb=function(){a.i=a.Qb();a.i||(a.i=[])};a.Qb=function(){var c,b;if(a.oa()){try{(b=k.localStorage.getItem(a.ma()))&&(c=k.JSON.parse(b))}catch(d){}return c}};a.oa=function(){var c=!0;a.trackOffline&&a.offlineFilename&&k.localStorage&&k.JSON||(c=!1);return c};a.Ma=function(){var c=0;a.i&&(c=a.i.length);a.p&&c++;return c};a.W=function(){if(a.p&&(a.A&&a.A.complete&&a.A.F&&a.A.ra(),a.p))return;a.Na=q;if(a.na)a.ia>a.P&&a.Ua(a.i),a.qa(500);else{var c=a.zb();if(0<c)a.qa(c);else if(c=a.Ja())a.p=
1,a.Rb(c),a.Ub(c)}};a.qa=function(c){a.Na||(c||(c=0),a.Na=setTimeout(a.W,c))};a.zb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.B()-a.Sa;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.Ja=function(){if(0<a.i.length)return a.i.shift()};a.Rb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.D(b)}};a.wa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};
a.Z=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(w){t=null}t&&"y"==t.x?(a.Z=!0,a.Y=function(a){return JSON.parse(a)}):k.$&&k.$.parseJSON?(a.Y=function(a){return k.$.parseJSON(a)},a.Z=!0):a.Y=function(){return null};a.Ub=function(c){var b,d,f;a.wa()&&2047<c.length&&(a.$a()&&(d=1,b=new XMLHttpRequest),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.Z?b.Ea=!0:b=0));!b&&a.Xa&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&
(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=2):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===typeof k.InstallTrigger||(b.abort=function(){b.src=q}));b.Ta=Date.now();b.Ga=function(){try{b.F&&(clearTimeout(b.F),b.F=0)}catch(a){}};b.onload=b.ra=function(){b.Ta&&(a.ja=Date.now()-b.Ta);a.eb(c);b.Ga();a.Db();a.da();a.p=0;a.W();if(b.Ea){b.Ea=!1;try{a.doPostbacks(a.Y(b.responseText))}catch(d){}}};
b.onabort=b.onerror=b.Ka=function(){b.Ga();(a.trackOffline||a.na)&&a.p&&a.i.unshift(a.Cb);a.p=0;a.ia>a.P&&a.Ua(a.i);a.da();a.qa(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.ra():b.Ka())};a.Sa=a.B();if(1==d)f=c.indexOf("?"),d=c.substring(0,f),f=c.substring(f+1),f=f.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),b.open("POST",d,!0),b.withCredentials=!0,b.send(f);else if(b.src=c,2==d){if(a.Qa)try{f.removeChild(a.Qa)}catch(e){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);
a.Qa=a.A}b.F=setTimeout(function(){b.F&&(b.complete?b.ra():(a.trackOffline&&b.abort&&b.abort(),b.Ka()))},5E3);a.Cb=c;a.A=k["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.L||a.v)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.ea=setTimeout(a.da,a.forcedLinkTrackingTimeout)};a.$a=function(){return"undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?!0:!1};a.Db=function(){if(a.oa()&&!(a.Ra>a.P))try{k.localStorage.removeItem(a.ma()),a.Ra=a.B()}catch(c){}};
a.Ua=function(c){if(a.oa()){a.Wa();try{k.localStorage.setItem(a.ma(),k.JSON.stringify(c)),a.P=a.B()}catch(b){}}};a.Wa=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.Ja()}};a.forceOffline=function(){a.na=!0};a.forceOnline=function(){a.na=!1};a.ma=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.B=function(){return(new Date).getTime()};a.Oa=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&
0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.Vb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.T(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&
(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g="";b||(b=a.pageURL?a.pageURL:k.location);d=d?d:"&";if(!c||!b)return g;b=""+b;e=b.indexOf("?");if(0>e)return g;b=d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+c+"="+d))){e=b.indexOf("#");0<=e&&(b=b.substr(0,e)+d);e=b.indexOf(d+c+"=");if(0>
e)return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g}},getIeVersion:function(){if(document.documentMode)return document.documentMode;for(var a=7;4<a;a--){var b=document.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e";if(b.getElementsByTagName("span").length)return a}return null}};a.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");
a.g=a.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ka="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.Q=a.ka.slice(0);a.Da="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" ");
for(m=0;250>=m;m++)76>m&&(a.g.push("prop"+m),a.Q.push("prop"+m)),a.g.push("eVar"+m),a.Q.push("eVar"+m),6>m&&a.g.push("hier"+m),4>m&&a.g.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" ");a.g=a.g.concat(m);a.G=a.G.concat(m);a.ssl=0<=k.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=
0;a.offlineFilename="AppMeasurement.offline";a.R="s_sq";a.Sa=0;a.ia=0;a.P=0;a.Ra=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=k;a.d=k.document;try{if(a.Xa=!1,navigator){var v=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=v.indexOf("MSIE ")||0<=v.indexOf("Trident/")&&0<=v.indexOf("Windows NT 6"))a.Xa=!0}}catch(x){}a.da=function(){a.ea&&(k.clearTimeout(a.ea),a.ea=q);a.k&&a.L&&a.k.dispatchEvent(a.L);a.v&&("function"==typeof a.v?
a.v():a.k&&a.k.href&&(a.d.location=a.k.href));a.k=a.L=a.v=0};a.Va=function(){a.b=a.d.body;a.b?(a.u=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.Fa)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.u,!1);else{a.b.removeEventListener("click",a.u,!0);a.Fa=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.O&&a.O==a.clickObject||!(a.clickObject.tagName||
a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var h=a.O=a.clickObject;a.ha&&(clearTimeout(a.ha),a.ha=0);a.ha=setTimeout(function(){a.O==h&&(a.O=0)},1E4);f=a.Ma();a.track();if(f<a.Ma()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Oa(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||k.name&&d==k.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=
new k.MouseEvent}if(b){try{b.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(m){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.k=c.target,a.L=b)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.u):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&
a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&k.MouseEvent)&&(a.Fa=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.u,!0)),a.b.addEventListener("click",a.u,!1))):setTimeout(a.Va,30)};a.Eb();a.fc||(r?a.setAccount(r):a.D("Error, missing Report Suite ID in AppMeasurement initialization"),a.Va(),a.loadModule("ActivityMap"))}
function ess_gi(r){var a,k=window.s_c_il,q,p,m=r.split(","),s,u,t=0;if(k)for(q=0;!t&&q<k.length;){a=k[q];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==r)t=1;else for(p=a.account?a.account:a.oun,p=a.allAccounts?a.allAccounts:p.split(","),s=0;s<m.length;s++)for(u=0;u<p.length;u++)m[s]==p[u]&&(t=1);q++}t?a.setAccount&&a.setAccount(r):a=new AppMeasurement(r);return a}AppMeasurement.getInstance=ess_gi;window.s_objectID||(window.s_objectID=0);
function ess_pgicq(){var r=window,a=r.s_giq,k,q,p;if(a)for(k=0;k<a.length;k++)q=a[k],p=s_gi(q.oun),p.setAccount(q.un),p.setTagContainer(q.tagContainerName);r.s_giq=0}ess_pgicq();ess = new AppMeasurement((function(){
	var rsid = [];
	if((Bootstrapper.data.resolve(60754)=='R12045')){
		rsid.push('hphqintranetarc');
	}
	if(('true'=='true')){
		rsid.push(Bootstrapper.data.resolve(60811));
	}
	return rsid.join(',');
})());
/************************** CONFIG SECTION **************************/
ess.trackingServer = 'met1.hp.com';
ess.visitorNamespace = 'hpcorp';
ess.trackingServerSecure = 'met2.hp.com';
ess.trackDownloadLinks = true;
ess.trackExternalLinks = false;
ess.trackInlineStats = false;
ess.writeSecureCookies = false;
ess.linkDownloadFileTypes = 'exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx';
ess.linkInternalFilters = 'hp.com,hpconnected.com,hpsalescentral.com,compaq.com,hpcontent.com,hp-mpp.com,hpautodelivery.com,omen.com,hyperx.com,hyperxpromo.com,hpdirect.com.hk,hpshopping.co.nz,hpshopping.id,hpshopping.in,hpstore.cn,hpstorethailand.com,hponline.cl,hponline.com.ar,hponline.com.co,hponline.com.mx,hponlinestore.com.pe,lojahp.com.br';
ess.linkLeaveQueryString = true;
ess.linkTrackVars = 'None';
ess.linkTrackEvents = 'None';
ess.visitor = window.Visitor.getInstance('5E34123F5245B2CD0A490D45@AdobeOrg');
ess.useBeacon = false;
ess.usePlugins = true;
ess.usePlugins = true;ess.doPlugins=function(s){var ess = s;
// Support doPlugins - Pulled Sept 6 2019
try {
  // Optimizely integration for Support portal
  if (window.optimizely && typeof window.optimizely.get === 'function' && window.optimizely.get('custom/adobeIntegrator')) {
      window.optimizely.get('custom/adobeIntegrator').assignCampaigns(ess);
  }
  //
	var addLTV = function(s) { //add to s.linkTrackVars, var name strings passed as argument(s)
		var i, n;
		for(i = 1; i < arguments.length; i++) { //loop through argument list
			n = arguments[i]; //get next argument
			if(typeof s.linkTrackVars != 'string' || s.linkTrackVars.toLowerCase() == 'none') s.linkTrackVars = ''; //force to string, not 'none'
			if(s.linkTrackVars.indexOf(n) < 0) s.linkTrackVars += (s.linkTrackVars ? ',' : '') + n; //add comma separated var name
		}
	};
	var setAdobeDiag=function(s){ //Set Adobe Analytics diagnostic variables
		var
			D = document,
			L = document.location,
			W = window; //define shortcuts
		//set URL and referrer:
		s.eVar90 = L.href; //full url
		s.eVar93 = (L.origin + L.pathname).replace(/(|\/[0-9]{7,8}\/model)\/[0-9]{7,8}$/,''); //url without query string or hash, excluding series and model numbers
		s.eVar94 = L.hostname; //url hostname
		s.eVar91 = D.referrer; //referring url
		//set code type, code base, publish date:
		var
			codeType = typeof W.Bootstrapper == 'object' ? 'ens' : 'js', //ens:Ensighten, js:Stand-along JS, gtm:GTM, dtm:DTM
			codeBase = '', //the bootstrap or .js file name without the extension. hard-code for non-Ensighten pages, otherwise leave empty
			codeDate = '', //the publish date, e.g. "30-Sep-2016 19:23:59", hard-code for non-Ensighten pages without hpmmd.code.version, otherwise leave empty
			codeStamp = ''; //will become the final code stamp, format: codeType|codeBase|codeDate
		if(codeType == 'ens') { //on Ensighten
			codeBase = (Bootstrapper.ensightenOptions.staticJavascriptPath.indexOf('-test') > 0 ? 'dev:' : '') //Ensighten preproduction?
				+
				Bootstrapper.ensightenOptions.publishPath; //bootstrap file name w/o .js
			var g = Bootstrapper.ensightenOptions.generatedOn; //e.g. 'Fri Sep 30 19:19:06 GTM 2016'
			codeDate = g.substring(8, 10) + '-' + g.substring(4, 7) + '-' + g.substring(g.length - 4, g.length) + ' ' + g.substring(11, 19); //DD-MMM-YYYY HH:MM:SS
		} else { //not on Ensighten
			if(!codeBase) { //if not hard-coded, assume filename is the last .js loaded
				var
					jss = D.getElementsByTagName('script'), //all .js files
					js = jss[jss.length - 1].src, //get the .js url (assuming we're the last .js file loaded)
					fn = js.match(/([^/])+/g); //split on the / character
				fn = fn[fn.length - 1]; //get the part after the last slash
				codeBase = fn.substring(0, fn.indexOf('.')); //get the name without the extension (i.e. no ".js")
			}
			if(!codeDate && typeof W.hpmmd == 'object') codeDate = (hpmmd.version || (typeof hpmmd.code == 'object' && hpmmd.code.version) || '?')
		}
		codeStamp = codeType + '|' + codeBase + '|' + codeDate; //CODE_TYPE|CODE_BASE|CODE_DATE, e.g. ens|hpcom_prod|30-Sep-2016 19:19:06
		if(typeof W.hpmmd == 'object') hpmmd.versionStamp = codeStamp; //save code stamp if hpmmd object exists
		s.eVar92 = codeStamp; //save code stamp
		//set section:
		if(typeof window._A=='object'&&typeof window._A.section=='object'){
			s.eVar95=_A.section.type||'?';
			s.eVar95+=':'+(_A.section.subtype||'?');
			s.eVar95+='|'+(_A.section.platform||'?');
			if(_A.dev)s.eVar95+=':dev';
			s.eVar95+='|'+(_A.section.region||'?');
			s.eVar95+='|'+(_A.section.country||'?');
			s.eVar95+=':'+(_A.section.language||'?');
			s.eVar95+='|'+(_A.section.currency||'?');
		}else{
			s.eVar95='?';
		}
		addLTV(s, 'prop26', 'eVar90', 'eVar91', 'eVar92', 'eVar93', 'eVar94','eVar95'); //add to link track vars for s.tl calls
	}; //setAdobeDiag() END

	var ct=ess.callType(); //determine call type

	if(ct!='+'){ //if s.t() or s.tl() call in progress
		setAdobeDiag(ess); //set diagnostic variables, eVar90 thru eVar94
		if(ct=='t'){ //if s.t() call in progress
	    ess.prop15 = s_getLoadTime(); //set page load type
			ess.prop73=ess.getPreviousValue(ess.pageName,'s_ppn'); //set previous page name
			ess.prop60=ess.getPercentPageViewed(); //set percent page viewed (final percentage)
			if(!ess.prop73||ess.prop73=='no value')ess.prop60=''; //clear percentage page viewed value if no previous page name
			ess.prop30=ess.prop73=='no value'?'':ess.prop73; //set previous page name copy for global report suite, without 'no value'
		}
	}
}
catch(e) {
  //
}

};
/************************** PLUGINS SECTION *************************/
/*
 * Custom plugin: Get call type
 */
ess.callType= function() {
	var
		s=this, //Adobe Analytics object
		e=s.eo, //Undefined on link track calls, empty string on page view calls, dom element on non-calls
		t=s.linkType||(typeof s.lt=='function'&&typeof h=='string'?s.lt(h):''); //link track call type
	return t||(e?'+':'t');
}

/*
 * Plugin: getPreviousValue_v1.0 - return previous value of designated
 *   variable (requires split utility)
 */
ess.getPreviousValue=new Function("v","c","el",""
+"var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el"
+"){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i"
+"){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t)"
+":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?"
+"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");

/*
 * Plugin: getPercentPageViewed v1.71
 */
ess.getPercentPageViewed=new Function("n",""
+"var s=this,W=window,EL=W.addEventListener,AE=W.attachEvent,E=['load"
+"','unload','scroll','resize','zoom','keyup','mouseup','touchend','o"
+"rientationchange','pan'];W.s_Obj=s;s_PPVid=(n=='-'?s.pageName:n)||s"
+".pageName||location.href;if(!W.s_PPVevent){s.s_PPVg=function(n,r){v"
+"ar k='s_ppv',p=k+'l',c=s.c_r(n||r?k:p),a=c.indexOf(',')>-1?c.split("
+"',',10):[''],l=a.length,i;a[0]=unescape(a[0]);r=r||(n&&n!=a[0])||0;"
+"a.length=10;if(typeof a[0]!='string')a[0]='';for(i=1;i<10;i++)a[i]="
+"!r&&i<l?parseInt(a[i])||0:0;if(l<10||typeof a[9]!='string')a[9]='';"
+"if(r){s.c_w(p,c);s.c_w(k,'?')}return a};W.s_PPVevent=function(e){va"
+"r W=window,D=document,B=D.body,E=D.documentElement,S=window.screen|"
+"|0,Ho='offsetHeight',Hs='scrollHeight',Ts='scrollTop',Wc='clientWid"
+"th',Hc='clientHeight',C=100,M=Math,J='object',N='number',s=W.s_Obj|"
+"|W.s||0;e=e&&typeof e==J?e.type||'':'';if(!e.indexOf('on'))e=e.subs"
+"tring(2);s_PPVi=W.s_PPVi||0;if(W.s_PPVt&&!e){clearTimeout(s_PPVt);s"
+"_PPVt=0;if(s_PPVi<2)s_PPVi++}if(typeof s==J){var h=M.max(B[Hs]||E[H"
+"s],B[Ho]||E[Ho],B[Hc]||E[Hc]),X=W.innerWidth||E[Wc]||B[Wc]||0,Y=W.i"
+"nnerHeight||E[Hc]||B[Hc]||0,x=S?S.width:0,y=S?S.height:0,r=M.round("
+"C*(W.devicePixelRatio||1))/C,b=(D.pageYOffset||E[Ts]||B[Ts]||0)+Y,p"
+"=h>0&&b>0?M.round(C*b/h):0,O=W.orientation,o=!isNaN(O)?M.abs(o)%180"
+":Y>X?0:90,L=e=='load'||s_PPVi<1,a=s.s_PPVg(s_PPVid,L),V=function(i,"
+"v,f,n){i=parseInt(typeof a==J&&a.length>i?a[i]:'0')||0;v=typeof v!="
+"N?i:v;v=f||v>i?v:i;return n?v:v>C?C:v<0?0:v};if(new RegExp('(iPod|i"
+"Pad|iPhone)').exec(navigator.userAgent||'')&&o){o=x;x=y;y=o}o=o?'P'"
+":'L';a[9]=L?'':a[9].substring(0,1);s.c_w('s_ppv',escape(W.s_PPVid)+"
+"','+V(1,p,L)+','+(L||!V(2)?p:V(2))+','+V(3,b,L,1)+','+X+','+Y+','+x"
+"+','+y+','+r+','+a[9]+(a[9]==o?'':o))}if(!W.s_PPVt&&e!='unload')W.s"
+"_PPVt=setTimeout(W.s_PPVevent,333)};for(var f=W.s_PPVevent,i=0;i<E."
+"length;i++)if(EL)EL(E[i],f,false);else if(AE)AE('on'+E[i],f);f()};v"
+"ar a=s.s_PPVg();return!n||n=='-'?a[1]:a");

/* * Utility Function: split v1.5 - split a string (JS 1.0 compatible) */
ess.split=new Function("l","d",""+"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"+"++]=l.substring(0,i);l=l.substring(i+d.length);}return a");
/************************** MODULES SECTION *************************/

}]);Bootstrapper.AF.push(['call', 'SiteCatalyst', 'block', 'ess']);Bootstrapper.AF.push(['push', 'SiteCatalyst', 'ns', 'ess']);Bootstrapper.AF.push(['set', 'SiteCatalyst', 'clearData', function() { if (this.ns) {for (var i = 0; i < this.ns.length; i++) {var sObj = this.ns[i]; Bootstrapper.AF.push(['set', sObj, 'clearData', function() {this.pre = [];}]);}}}]);
Bootstrapper.AF.push(['call', 'SiteCatalyst', 'clearData']);Bootstrapper.AF.push(['set', 'SiteCatalyst', 'clearVars', function() { if (this.ns) for (var i = 0; i < this.ns.length; i++) {var sObj = this.ns[i]; Bootstrapper.AF.push(['set', sObj, 'clearVars', function() {this.pre = this.pre || []; for (var i = 0; i < this.pre.length; i++) {var adobeVar = this.pre[i][0]; if (/^(channel|events|eventList|products|productList|purchaseID|transactionID|state|zip|campaign)$/.test(adobeVar) || /^(prop|eVar|hier|list)$/.test(adobeVar.substring(0, 4))) {this.pre.splice(this.pre.indexOf(i, 1)); i--;}}}])}}]);
Bootstrapper.AF.push(['call', 'SiteCatalyst', 'clearVars']);
new Image().src = "https://t.nc0.co/pc/demoretail/?client=hp&event=AA_base_end";

},4124367,[3727818,4124362], 613199,[478039,613201]);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  var retVal = ''
  if(typeof(window.globalDataLayer.Product) !== 'undefined') {
    retVal = window.globalDataLayer.Product.audienceType || 'null';
  }
  else {
    retVal = 'null';
  }
  return retVal;
},transform: function(val) {
	return val ? val : "";
},load: 'instance',trigger: function() {
  return Bootstrapper.data.triggerPromise(function() {
    var result = null;
    if (typeof window.globalDataLayer !== 'undefined') {
      result = true;
    }
    return result;
  }, null, 5000)
},dataDefName: 'Support - Product - Audience Type',collection: 'support',source: 'Manage',priv: 'false'}, {id: '49976'} );},49976);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var result = 'null';
    if (window.globalDataLayer.Product.bigSeriesOid && window.globalDataLayer.Product.bigSeriesName) {
      result = window.globalDataLayer.Product.bigSeriesOid+':'+window.globalDataLayer.Product.bigSeriesName;
    }
    //
    //console.log('ENS EDL - bigSeries is: '+result);
    //
    return result;
  }
  catch(e) {
    console.log('ENS EDL Error: '+e.message);
    return '';
  }
},load: 'instance',trigger: Bootstrapper.data.bottomOfBodyTrigger,dataDefName: 'support_bigSeries_BoB',collection: 'support',source: 'Manage',priv: 'false'}, {id: '52160'} );},52160);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(['join', 'ess', 'dl', '6083']);Bootstrapper.AF.push(['join', 'ess', 'dl', '9912']);Bootstrapper.AF.push(['join', 'ess', 'dl', '9913']);Bootstrapper.AF.push(['join', 'ess', 'dl', '7869']);Bootstrapper.AF.push(['join', 'ess', 'dl', '9912']);Bootstrapper.AF.push(['join', 'ess', 'dl', '9913']);Bootstrapper.AF.push(['join', 'ess', 'dl', '63626']);Bootstrapper.AF.push(['join', 'ess', 'dl', '6086']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52121']);Bootstrapper.AF.push(['join', 'ess', 'dl', '6093']);Bootstrapper.AF.push(['join', 'ess', 'dl', '6094']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52160']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52161']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52162']);Bootstrapper.AF.push(['join', 'ess', 'dl', '71529']);Bootstrapper.AF.push(['join', 'ess', 'dl', '13846']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52121']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52160']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52161']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52162']);Bootstrapper.AF.push(['join', 'ess', 'dl', '10585']);Bootstrapper.AF.push(['join', 'ess', 'dl', '7869']);Bootstrapper.AF.push(['join', 'ess', 'dl', '10680']);Bootstrapper.AF.push(['join', 'ess', 'dl', '10681']);Bootstrapper.AF.push(['join', 'ess', 'dl', '10682']);Bootstrapper.AF.push(['join', 'ess', 'dl', '10683']);Bootstrapper.AF.push(['join', 'ess', 'dl', '12477']);Bootstrapper.AF.push(['join', 'ess', 'dl', '16562']);Bootstrapper.AF.push(['join', 'ess', 'dl', '10680']);Bootstrapper.AF.push(['join', 'ess', 'dl', '49975']);Bootstrapper.AF.push(['join', 'ess', 'dl', '49976']);Bootstrapper.AF.push(['join', 'ess', 'dl', '50682']);Bootstrapper.AF.push(['join', 'ess', 'dl', '52932']);Bootstrapper.AF.push(['push', 'SiteCatalyst', 'ns', 'ess']);Bootstrapper.AF.push(['join', 'ess', 'pre', [['prop1',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '6083')}],['prop7',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '9912')}],['prop8',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '9913')}],['pageName',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '7869')}],['channel','pps'],['eVar2',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '9912')}],['eVar3',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '9913')}],['prop3',function anon(){
    if(/dashboard/.test(location.href)) {
        if(/Anonymous/.test(globalDataLayer.customerState)) {
	globalDataLayer.Template = "Dashboard_anonymous";
	} else {
	globalDataLayer.Template = globalDataLayer.Template;
	}
}
    return globalDataLayer.Template;
}],['prop2',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '6086')}],['prop55',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52121')}],['server',function(){try{return location.hostname}catch(e){return '';}}],['prop23',function(){if(/\/dashboard/.test(location.pathname) === false){return window['Bootstrapper']._SC.dataHandler(arguments, '6093')}}],['prop24',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '6094')}],['prop56',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52160')}],['prop57',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52161')}],['prop58',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52162')}],['prop59',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '71529')}],['prop49',function anon() {
  return window.location.protocol+'//'+window.location.host+window.location.pathname;
}],['prop50',function anon() {
  return window.location.href;
}],['products',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '13846')}],['eVar32',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52121')}],['eVar33',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52160')}],['eVar34',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52161')}],['eVar35',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '52162')}],['prop12',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '10585')}],['eVar46',function anon(){
	return globalDataLayer.Template;
}],['eVar55',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '7869')}],['eVar15',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '10680')}],['eVar16',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '10681')}],['eVar17',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '10682')}],['eVar18',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '10683')}],['prop67',function(){if(/\/[a-z]+-[a-z]+\/product\/(model|series)\/[a-z0-9-%]+\/document\/[a-zA-Z0-9]+/.test(window.location.pathname) === true && /\?sessionId=/.test(window.location.search) === true){return function anon() {
// Modified version of Bootstrapper.getQueryParam for use here
var getQueryParam = function(key, loc) {
  if (!this.params || loc) {
  var search = loc || window.location.search;
  search = search.toString();
  var params = search.replace(/^\?/, ''),
    paramObj = {};
  params = params.split('&');
  for (var i = 0; i < params.length; i++) {
    var t = params[i].split('=');
    paramObj[t[0]] = t[1];
  }
  if (!loc) {
    this.params = paramObj;
  } else {
    return paramObj[key] || '';
  }
  }
  return this.params[key] || '';
},
  result = '',
// Determine if visitor landed here via portal
// Note: Some example URLs have &amp;client=, while others have &client=, hence the two getQueryParam examples in use here...
/* DEPRECATED - No longer need to filter by client value per Asif @ HP (23 Sept 2015)
var clientArr = [], ampClient = getQueryParam('amp;client'), regClient = getQueryParam('client'), proceed = false;

if(ampClient.length > 1) {
  clientArr.push(ampClient);
}
if(regClient.length > 1) {
  clientArr.push(regClient);
}
*/
proceed = /sessionId=[0-9a-z-]+/i.test(window.location.search.toString());
//
if(proceed === true) {
  var theURL = '',
    theURLSearch = '';
  theURL = window.location.href;
  theURLSearch = theURL.split('?')[1];
  theURLSearch = theURLSearch.replace(/&amp;/g,'&');
  // Get the sessionId
  var sessionid = getQueryParam('sessionId',theURLSearch);
  // Get cc and lc
  var cc = getQueryParam('cc',theURLSearch);
  var lc = getQueryParam('lc',theURLSearch);
  // Get productNumber (default to string 'NULL' if no value)
  var productNumber = getQueryParam('productNumber',theURLSearch);
  if(productNumber.length === 0) {
    productNumber = 'NULL';
  }
  // Get document ID
  var documentID = theURL.match(/document\/[a-zA-Z0-9]+/);
  documentID = documentID.toString().split('/')[1];
  // Get serialNumber
  var serial = getQueryParam('serialNumber',theURLSearch);
  // Get client ID
  var clientid = getQueryParam('client',theURLSearch);
  // Compile result for current link
  result = 'sid='+sessionid+':cc-lc='+cc+'-'+lc+':p='+productNumber+':d='+documentID+':sr='+serial+':c='+clientid;
}
// Return result
return result;
}()}}],['prop25',function(){if(/product/.test(window.location.href)){return function anon() {
    var hermes =  globalDataLayer.Product.HermesData || '';
if(hermes){
    var hermesData = globalDataLayer.Product.HermesData;
} else {
    hermesData = '';
}
var sOid = globalDataLayer.Product.seriesOid;
var snOid = globalDataLayer.Product.supportNameOid;
if(snOid !== "") {
    var series = "model-" + globalDataLayer.Product.supportNameOid;
} else {
    series = "series-" + globalDataLayer.Product.seriesOid;
}
    return 'Hermes' + '-' + hermesData + '-' + globalDataLayer.Product.productLineCode + '-' + series;
}()}}],['prop51',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '12477')}],['eVar19',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '10680')}],['prop36',function(){if(window.globalDataLayer.Template == 'Search'){return function anon() {
  // Take copy of page data layer
  var gdl = window.globalDataLayer;
  // Misc. vars
  var cat = '';
  var prop36 = '';
  window.ens_event17 = false;
  window.ens_event18 = false;
  
  // Detect if search query is available in globalDataLayer
  var search_query = globalDataLayer.Search.Query || 'search_query_not_found';
  // Detect if SRP count is available
  var search_result_count = globalDataLayer.Search.Count;
  // Detect if search redirect indicator is available
  var search_redirected = typeof globalDataLayer.Search.Redirect !== 'undefined' ? globalDataLayer.Search.Redirect : 'search_redirect_not_found';
    search_redirected = search_redirected.toString();

  var getSearchCat = function() {
    cat = window.sessionStorage.getItem('srch_cat');
    switch (cat) {
      case '0':
        cat = 'all support:';
        break;
      case '1':
        cat = 'softwaresdrivers:';
        break;
      case '2':
        cat = 'troubleshooting:';
        break;
      case '3':
        cat = 'howto:';
        break;
      case '4':
        cat = 'productinfo:';
        break;
      case '5':
        cat = 'userguide:';
        break;
      default:
        cat = 'search all support:';
    }
    return cat;
  };

  var raw = (function() {
      // --------------------------------------------------------------------- //
      // SRP and all other pages
      if (search_redirected == 'false') {
        if(search_result_count > 0) {
            var searchInstead = false;
          // Try wrapper
          try {
            // Get search cateogry for cases where search originated from a PDP
            cat = getSearchCat();

            // Look for "Search instead for..." shown on page
            if (document.querySelectorAll('p.search-error').length > 0) {
              searchInstead = true;
            }
            // Assemble prop36
            prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
            // Set flag for pageload deployment to fire event17
            window.ens_event17 = true;
            // Final return
            return prop36.toLowerCase();
          } // End try wrapper
          catch (e) {
            //console.log('Error - ' + e.message);
          }
        }
        else if(search_result_count === 0) {
          //
          //console.log('SRP detected - No results found');
          //
          // Get search cateogry for cases where search originated from a PDP
          cat = getSearchCat();

          // Look for "Search instead for..." shown on page
          if (document.querySelectorAll('p.search-error').length > 0) {
            searchInstead = true;
          }

          // Assemble prop36
          prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
          
          //
          //console.log(prop36);
          //
          // Set flag for pageload deployment to fire event17
          window.ens_event17 = true;
          // Final return
          return prop36.toLowerCase();
        }
      }
      // R3 - Capture search query if auto-redirected by the site from the search page to a PDP or SWD page
      else if (search_redirected == 'true') {
        //
        //console.log('Search redirect detected');
        //
        // Try wrapper
        try {
          // Get search cateogry for cases where search originated from a PDP
          cat = getSearchCat();
          // Assemble prop36
          prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
          // Set flag for pageload deployment to fire event17
          window.ens_event18 = true;
          // Final return
          return prop36.toLowerCase();
        } // End try wrapper
        catch (e) {
          //console.log('Error - ' + e.message);
        }
      }
    }());
    var mod = raw;
    // Misc. transformations
    if(typeof(raw) !== 'undefined') {
      try{
        if(raw.length > 0) {
          var parts = raw.split(':');
          //
          //console.log(parts);
          //
          if(parts.length === 2) {
            mod = parts[1];
            if(search_result_count == 0) {
              mod = mod + '|noresults'
            }
          }
          if(parts.length === 3) {
            if(parts[1] == 'no results') {
              mod = parts[1]+':'+parts[2];
            }
            else {
              mod = parts[2];
            }
          }
        }
      }
      catch(e) {
        //console.log(e.message);
      }
    }
  return mod;
}()}}],['prop47',function(){if(window.globalDataLayer.Template == 'Search'){return function anon() {
  // Take copy of page data layer
  var gdl = window.globalDataLayer;
  // Misc. vars
  var cat = '';
  var prop36 = '';
  
  // Detect if search query is available in globalDataLayer
  var search_query = globalDataLayer.Search.Query || 'search_query_not_found';
  // Detect if SRP count is available
  var search_result_count = globalDataLayer.Search.Count;
  // Detect if search redirect indicator is available
  var search_redirected = globalDataLayer.Search.Redirect;
    search_redirected = search_redirected.toString();
  
  var getSearchCat = function() {
    cat = window.sessionStorage.getItem('srch_cat');
    switch (cat) {
      case '0':
        cat = 'all support:';
        break;
      case '1':
        cat = 'softwaresdrivers:';
        break;
      case '2':
        cat = 'troubleshooting:';
        break;
      case '3':
        cat = 'howto:';
        break;
      case '4':
        cat = 'productinfo:';
        break;
      case '5':
        cat = 'userguide:';
        break;
      default:
        cat = 'search all support:';
    }
    return cat;
  };

  var raw = (function() {
      // --------------------------------------------------------------------- //
      // SRP and all other pages
      if (search_redirected == 'false') {
        if(search_result_count > 0) {
          //
          console.log('SRP detected - Results found');
          //
            var searchInstead = false;
          // Try wrapper
          try {
            // Get search cateogry for cases where search originated from a PDP
            cat = getSearchCat();

            // Look for "Search instead for..." shown on page
            if (document.querySelectorAll('p.search-error').length > 0) {
              searchInstead = true;
            }

            // Assemble prop36
            prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
            
            //
            console.log(prop36);
            //
            // Set flag for pageload deployment to fire event17
            window.ens_event17 = true;
            // Final return
            return prop36.toLowerCase();
          } // End try wrapper
          catch (e) {
            console.log('Error - ' + e.message);
          }
        }
        else if(search_result_count === 0) {
          //
          console.log('SRP detected - No results found');
          //
          // Get search cateogry for cases where search originated from a PDP
          cat = getSearchCat();

          // Look for "Search instead for..." shown on page
          if (document.querySelectorAll('p.search-error').length > 0) {
            searchInstead = true;
          }

          // Assemble prop36
          prop36 = cat + (searchInstead ? 'search instead:' : 'no results:') + search_query;
          
          //
          console.log(prop36);
          //
          // Set flag for pageload deployment to fire event17
          window.ens_event17 = true;
          // Final return
          return prop36.toLowerCase();
        }
      }
    }());
    var mod = raw;
    // Misc. transformations
    if(typeof(raw) !== 'undefined') {
      try{
        if(raw.length > 0) {
          var parts = raw.split(':');
          //
          //console.log(parts);
          //
          if(parts.length === 2) {
            mod = parts[1];
          }
          if(parts.length === 3) {
            if(parts[1] == 'no results') {
              mod = parts[1]+':'+parts[2];
            }
            else {
              mod = parts[2];
            }
          }
        }
      // Transform for c47
      mod = mod+':'+search_result_count.toString();
      }
      catch(e) {
        console.log(e.message);
      }
    }
    //
  return mod;
}()}}],['prop26',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '49975')}],['prop43',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '49976')}],['eVar44',function(){if(/contact/.test(window.location.pathname)){return window['Bootstrapper']._SC.dataHandler(arguments, '50682')}}],['prop23',function(){if(/\/dashboard/.test(location.pathname) === true){return window['Bootstrapper']._SC.dataHandler(arguments, '52932')}}],['eVar68',function anon(){
  var retVal = '';
  if(Bootstrapper.customStorage) {
    retVal = Bootstrapper.customStorage.eVar68 || '';
    Bootstrapper.customStorage.eVar68 = '';
  }
  return retVal;
}],['prop68',function anon(){
  var retVal = '';
  if(Bootstrapper.customStorage) {
    retVal = Bootstrapper.customStorage.prop68 || '';
    Bootstrapper.customStorage.prop68 = '';
  }
  return retVal;
}],['eVar13',function anon(){
  var retVal = '';
  if(Bootstrapper.customStorage) {
    retVal = Bootstrapper.customStorage.eVar13 || '';
    Bootstrapper.customStorage.eVar13 = '';
  }
  return retVal;
}],['prop42',function(){if(window.globalDataLayer.Template.includes("Contact")){return function anon(){
	if(window.globalDataLayer.ContactEntitlementresults.SNentry) {
	return 'Entry:' + globalDataLayer.ContactEntitlementresults.SNentry + ',' + 'Type:'+ globalDataLayer.ContactEntitlementresults.SNEntryType;
}
}

()}}],['prop10',function(){if(/ContactHP-Closure/.test(globalDataLayer.Template) === true){return function anon(){
	var temp = globalDataLayer.Template || '',
	conFrm = globalDataLayer.ContactEntitlementresults.Contactform || '',
	csId = globalDataLayer.ContactEntitlementresults.CaseID || '';
	return  temp + ' | ' + conFrm + ' | ' + csId;
}()}}]]]);
Bootstrapper.AF.push(['join', 'ess', 'post', [['prop66',function(){if(window.globalDataLayer.Template !== 'Search'){return function anon() {
  // Take copy of page data layer
  var gdl = window.globalDataLayer;
  // Misc. vars
  var cat = '';
  var prop36 = '';
  window.ens_event17 = false;
  window.ens_event18 = false;
  
  // Detect if search query is available in globalDataLayer
  var search_query = globalDataLayer.Search.Query || 'search_query_not_found';
  // Detect if SRP count is available
  var search_result_count = globalDataLayer.Search.Count;
  // Detect if search redirect indicator is available
  var search_redirected = typeof globalDataLayer.Search.Redirect !== 'undefined' ? globalDataLayer.Search.Redirect : 'search_redirect_not_found';
    search_redirected = search_redirected.toString();

  var getSearchCat = function() {
    cat = window.sessionStorage.getItem('srch_cat');
    switch (cat) {
      case '0':
        cat = 'all support:';
        break;
      case '1':
        cat = 'softwaresdrivers:';
        break;
      case '2':
        cat = 'troubleshooting:';
        break;
      case '3':
        cat = 'howto:';
        break;
      case '4':
        cat = 'productinfo:';
        break;
      case '5':
        cat = 'userguide:';
        break;
      default:
        cat = 'search all support:';
    }
    return cat;
  };

  var raw = (function() {
      // --------------------------------------------------------------------- //
      // SRP and all other pages
      if (search_redirected == 'false') {
        if(search_result_count > 0) {
            var searchInstead = false;
          // Try wrapper
          try {
            // Get search cateogry for cases where search originated from a PDP
            cat = getSearchCat();

            // Look for "Search instead for..." shown on page
            if (document.querySelectorAll('p.search-error').length > 0) {
              searchInstead = true;
            }
            // Assemble prop36
            prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
            // Set flag for pageload deployment to fire event17
            window.ens_event17 = true;
            // Final return
            return prop36.toLowerCase();
          } // End try wrapper
          catch (e) {
            //console.log('Error - ' + e.message);
          }
        }
        else if(search_result_count === 0) {
          //
          //console.log('SRP detected - No results found');
          //
          // Get search cateogry for cases where search originated from a PDP
          cat = getSearchCat();

          // Look for "Search instead for..." shown on page
          if (document.querySelectorAll('p.search-error').length > 0) {
            searchInstead = true;
          }

          // Assemble prop36
          prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
          
          //
          //console.log(prop36);
          //
          // Set flag for pageload deployment to fire event17
          window.ens_event17 = true;
          // Final return
          return prop36.toLowerCase();
        }
      }
      // R3 - Capture search query if auto-redirected by the site from the search page to a PDP or SWD page
      else if (search_redirected == 'true') {
        //
        //console.log('Search redirect detected');
        //
        // Try wrapper
        try {
          // Get search cateogry for cases where search originated from a PDP
          cat = getSearchCat();
          // Assemble prop36
          prop36 = cat + (searchInstead ? 'search instead:' : '') + search_query;
          // Set flag for pageload deployment to fire event17
          window.ens_event18 = true;
          // Final return
          return prop36.toLowerCase();
        } // End try wrapper
        catch (e) {
          //console.log('Error - ' + e.message);
        }
      }
    }());
    var mod = raw;
    // Misc. transformations
    if(typeof(raw) !== 'undefined') {
      try{
        if(raw.length > 0) {
          var parts = raw.split(':');
          //
          //console.log(parts);
          //
          if(parts.length === 2) {
            mod = parts[1];
          }
          if(parts.length === 3) {
            if(parts[1] == 'no results') {
              mod = parts[1]+':'+parts[2];
            }
            else {
              mod = parts[2];
            }
          }
        }
      }
      catch(e) {
        //console.log(e.message);
      }
    }
  return mod;
}()}}],['prop27',function(){return window['Bootstrapper']._SC.dataHandler(arguments, '63626')}],['eVar36',function anon(){
  try {
    if(!/impression/.test(ess.prop36)) {
      return ess.prop36;
    }
    else {
      return '';
    }
  }
  catch(e) {
    return '';
  }
}],['list3',function(){if(window.globalDataLayer.Template == 'SiteHome'){return window['Bootstrapper']._SC.dataHandler(arguments, '16562')}}],['eVar56',function(){if(window.globalDataLayer.Template !== 'Search'){return ess.prop66}}],['events',function anon(){
  var result = '';
  if(window.ens_event17 === true) {
    result = Bootstrapper.CustomUtils.do_concat('event17',result,',');
  }
  if(window.ens_event18 === true) {
    result = Bootstrapper.CustomUtils.do_concat('event18',result,',');
  }
  if(Bootstrapper.customStorage) {
    if(Bootstrapper.customStorage.events) {
      // Refactor later to allow multiple values.
      if(/event69/.test(Bootstrapper.customStorage.events) === true) {
        result = Bootstrapper.CustomUtils.do_concat('event69',result,',');
        Bootstrapper.customStorage.events = '';
      }
    }
  }
	return result;
}],['eVar12',function(){return window.ess.prop26}],['prop24',function(){if(/ContactHP-Results-anonymous|ContactHP-Results-signedin/.test(globalDataLayer.Template) === true){return function anon() {
    var dl_cer = globalDataLayer.ContactEntitlementresults;
    var keys = Object.keys(dl_cer);
    var vals = Object.values(dl_cer);
    var list = '';
    var sep = '|';
        for (var i =0; i < vals.length; i++) {
            if(vals[i] == 'Active' && i>1) {
                list += keys[i];
                list += sep;
        }
    }
    return 'Warr'+':'+globalDataLayer.ContactEntitlementresults.EntResults+'|'+'PL'+':'+globalDataLayer.Product.productLineCode+'|'+ list.slice(0);
}()}}]]]);

},4133415, 241423);
	Bootstrapper.bindDependencyImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.ensEvent.add("Contact Options Cards", function(){var _linkTrackVars=(ess.linkTrackVars&&(ess.linkTrackVars!=='None'))?(ess.linkTrackVars+','):'';
var _linkTrackEvents=(ess.linkTrackEvents&&(ess.linkTrackEvents!=='None'))?(ess.linkTrackEvents+','):'';
var _events = "";_linkTrackVars += "prop24";
var tempObject = {};
tempObject.linkTrackVars = _linkTrackVars;
tempObject.linkTrackEvents = _linkTrackEvents;
tempObject.events = _events;
tempObject.prop24=(function anon() {
    if (window.globalDataLayer.ContactEntitlementresults) {
        var dl_cer = window.globalDataLayer.ContactEntitlementresults,
            vals = Object.values(dl_cer),
            keys = Object.keys(dl_cer),
            list = '',
            sep = '|';

        for (var i = 0; i < vals.length; i++) {
            if(vals[i] == 'Active' && i>1) {
                list += keys[i];
                list += sep;
            }
        }
        return 'Warr'+':'+globalDataLayer.ContactEntitlementresults.warrantyState+'|'+'PL'+':'+globalDataLayer.Product.productLineCode+'|'+ list.slice(0);
    }
    return '';
}).call(this);
ess.tl(this,"o", 'Contact Options Cards', tempObject);});Bootstrapper.ensEvent.add("Contact Serial Error", function(){var _linkTrackVars=(ess.linkTrackVars&&(ess.linkTrackVars!=='None'))?(ess.linkTrackVars+','):'';
var _linkTrackEvents=(ess.linkTrackEvents&&(ess.linkTrackEvents!=='None'))?(ess.linkTrackEvents+','):'';
var _events = "";_linkTrackVars += "prop42";
var tempObject = {};
tempObject.linkTrackVars = _linkTrackVars;
tempObject.linkTrackEvents = _linkTrackEvents;
tempObject.events = _events;
tempObject.prop42=(function anon() {
    if (window.globalDataLayer.ContactEntitlementresults) {
	return 'SNEntry'+':'+globalDataLayer.ContactEntitlementresults.SNentry+'|'+'SNEntryType'+':'+globalDataLayer.ContactEntitlementresults.SNEntryType;
}
}).call(this);
ess.tl(this,"o", 'Contact Serial Error', tempObject);});Bootstrapper.ensEvent.add("Service Unavailable Error", function(){var _linkTrackVars=(ess.linkTrackVars&&(ess.linkTrackVars!=='None'))?(ess.linkTrackVars+','):'';
var _linkTrackEvents=(ess.linkTrackEvents&&(ess.linkTrackEvents!=='None'))?(ess.linkTrackEvents+','):'';
var _events = "";_linkTrackVars += "prop11";
var tempObject = {};
tempObject.linkTrackVars = _linkTrackVars;
tempObject.linkTrackEvents = _linkTrackEvents;
tempObject.events = _events;
tempObject.prop11=(function anon() {
	return globalDataLayer.Template + ' | service unavailable';
}).call(this);
ess.tl(this,"o", '', tempObject);});Bootstrapper.ensEvent.add("Document Flag Event", function(){ess.origLTV=ess.linkTrackVars;ess.prop28=(function anon() {
	return Bootstrapper.data.resolve(69286) + '|' + globalDataLayer.Document.documentID;
}).call(this);
ess.linkTrackVars=(ess.linkTrackVars&&(ess.linkTrackVars!=='None'))?(ess.linkTrackVars+','):'';
ess.linkTrackVars+="prop28";ess.linkTrackEvents="None";
ess.tl(this,'o','');ess.linkTrackVars=ess.origLTV;ess.linkTrackEvents=ess.origLTE;});

},4123351,[4124367], 728093,[613199]);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.customStorage = Bootstrapper.customStorage || {};

var elemsToTrackOnClick = [
  "[id^='open']",
  "[id^='close']",
  "[id^='docfooter']",
  "[id^='intcpt']",
  "[id^='CID']"
];

elemsToTrackOnClick = elemsToTrackOnClick.toString();

try {
  if (!Bootstrapper.customStorage.Document_bind_click_events) {
    if (/Document/.test(globalDataLayer.Template)) {
      $(document.body).on('mousedown', elemsToTrackOnClick, null, function() {
       if(/CID/.test(this.id)) {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = globalDataLayer.Template + '|' + globalDataLayer.Document.documentID + '-video-' + this.id;
        ess.tl(this, 'o', ess.eVar37);
        Bootstrapper.CustomUtils.clearSC_light(['eVar37', 'linkTrackVars']);
       } else {
        ess.linkTrackVars = 'eVar37';
        ess.eVar37 = globalDataLayer.Template + '|' + this.id;
        ess.tl(this, 'o', ess.eVar37);
        Bootstrapper.CustomUtils.clearSC_light(['eVar37', 'linkTrackVars']);
      }
      });
    }
    Bootstrapper.customStorage.Document_bind_click_events = true;
  }
} catch (e) {
  _A.log(e.message);
}

},3988984, 760465);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var result = 'null';
    if (window.globalDataLayer.Product.supportNameOid && window.globalDataLayer.Product.supportNameName) {
      result = window.globalDataLayer.Product.supportNameOid+':'+window.globalDataLayer.Product.supportNameName;
    }
    //
    //console.log('ENS EDL - supportName is: '+result);
    //
    return result;
  }
  catch(e) {
    console.log('ENS EDL Error: '+e.message);
    return '';
  }
},load: 'instance',trigger: Bootstrapper.data.bottomOfBodyTrigger,dataDefName: 'support_supportName_BoB',collection: 'support',source: 'Manage',priv: 'false'}, {id: '52162'} );},52162);

},-1, -1);
	Bootstrapper.bindImmediate(function(){
var Bootstrapper = window["Bootstrapper"]; var ensightenOptions = Bootstrapper.ensightenOptions;
Bootstrapper.registerDataDefinition(function (){Bootstrapper.data.define( {extract: function() {
  try {
    var windowPathname = window.location.pathname,
    windowParentPathname = window.parent.location.pathname;
    if(windowPathname == windowParentPathname) {
      return 'true';
    }
    else {
      return 'false';
    }
  }
  catch(e) {
    return 'true';
  }
},transform: function(val) {
	return val ? val : "";
},load: 'page',trigger: Bootstrapper.data.bottomOfBodyTrigger,dataDefName: 'support_isNotIframe',collection: 'support',source: 'Manage',priv: 'false'}, {id: '53254'} );},53254);

},-1, -1);
